var Zepto=function(){function t(t){return null==t?String(t):V[J.call(t)]||"object"}function e(e){return"function"==t(e)}function i(t){return null!=t&&t==t.window}function n(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function s(e){return"object"==t(e)}function o(t){return s(t)&&!i(t)&&Object.getPrototypeOf(t)==Object.prototype}function a(t){return t instanceof Array}function r(t){return"number"==typeof t.length}function _(t){return L.call(t,function(t){return null!=t})}function c(t){return t.length>0?k.fn.concat.apply([],t):t}function l(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function d(t){return t in P?P[t]:P[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function h(t,e){return"number"==typeof e&&!j[l(t)]?e+"px":e}function u(t){var e,i;if(!N[t]){e=A.createElement(t);A.body.appendChild(e);i=getComputedStyle(e,"").getPropertyValue("display");e.parentNode.removeChild(e);"none"==i&&(i="block");N[t]=i}return N[t]}function f(t){return"children"in t?T.call(t.children):k.map(t.childNodes,function(t){if(1==t.nodeType)return t})}function p(t,e,i){for(w in e)if(i&&(o(e[w])||a(e[w]))){if(o(e[w])&&!o(t[w]))t[w]={};if(a(e[w])&&!a(t[w]))t[w]=[];p(t[w],e[w],i)}else if(e[w]!==x)t[w]=e[w]}function g(t,e){return null==e?k(t):k(t).filter(e)}function m(t,i,n,s){return e(i)?i.call(t,n,s):i}function v(t,e,i){null==i?t.removeAttribute(e):t.setAttribute(e,i)}function $(t,e){var i=t.className,n=i&&i.baseVal!==x;if(e===x)return n?i.baseVal:i;n?i.baseVal=e:t.className=e}function y(t){var e;try{return t?"true"==t||("false"==t?!1:"null"==t?null:!/^0/.test(t)&&!isNaN(e=Number(t))?e:/^[\[\{]/.test(t)?k.parseJSON(t):t):t}catch(i){return t}}function b(t,e){e(t);for(var i in t.childNodes)b(t.childNodes[i],e)}var x,w,k,I,C,E,S=[],T=S.slice,L=S.filter,A=window.document,N={},P={},j={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},D=/^\s*<(\w+|!)[^>]*>/,R=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,O=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,B=/^(?:body|html)$/i,M=/([A-Z])/g,F=["val","css","html","text","data","width","height","offset"],z=["after","prepend","before","append"],U=A.createElement("table"),q=A.createElement("tr"),H={tr:A.createElement("tbody"),tbody:U,thead:U,tfoot:U,td:q,th:q,"*":A.createElement("div")},G=/complete|loaded|interactive/,W=/^[\w-]*$/,V={},J=V.toString,X={},Q=A.createElement("div"),Y={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"};X.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var i=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(i)return i.call(t,e);var n,s=t.parentNode,o=!s;if(o)(s=Q).appendChild(t);n=~X.qsa(s,e).indexOf(t);o&&Q.removeChild(t);return n};C=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})};E=function(t){return L.call(t,function(e,i){return t.indexOf(e)==i})};X.fragment=function(t,e,i){var n,s,a;if(R.test(t))n=k(A.createElement(RegExp.$1));if(!n){if(t.replace)t=t.replace(O,"<$1></$2>");if(e===x)e=D.test(t)&&RegExp.$1;if(!(e in H))e="*";a=H[e];a.innerHTML=""+t;n=k.each(T.call(a.childNodes),function(){a.removeChild(this)})}if(o(i)){s=k(n);k.each(i,function(t,e){if(F.indexOf(t)>-1)s[t](e);else s.attr(t,e)})}return n};X.Z=function(t,e){t=t||[];t.__proto__=k.fn;t.selector=e||"";return t};X.isZ=function(t){return t instanceof X.Z};X.init=function(t,i){var n;if(!t)return X.Z();else if("string"==typeof t){t=t.trim();if("<"==t[0]&&D.test(t))n=X.fragment(t,RegExp.$1,i),t=null;else if(i!==x)return k(i).find(t);else n=X.qsa(A,t)}else if(e(t))return k(A).ready(t);else if(X.isZ(t))return t;else if(a(t))n=_(t);else if(s(t))n=[t],t=null;else if(D.test(t))n=X.fragment(t.trim(),RegExp.$1,i),t=null;else if(i!==x)return k(i).find(t);else n=X.qsa(A,t);return X.Z(n,t)};k=function(t,e){return X.init(t,e)};k.extend=function(t){var e,i=T.call(arguments,1);if("boolean"==typeof t){e=t;t=i.shift()}i.forEach(function(i){p(t,i,e)});return t};X.qsa=function(t,e){var i,s="#"==e[0],o=!s&&"."==e[0],a=s||o?e.slice(1):e,r=W.test(a);return n(t)&&r&&s?(i=t.getElementById(a))?[i]:[]:1!==t.nodeType&&9!==t.nodeType?[]:T.call(r&&!s?o?t.getElementsByClassName(a):t.getElementsByTagName(e):t.querySelectorAll(e))};k.contains=function(t,e){return t!==e&&t.contains(e)};k.type=t;k.isFunction=e;k.isWindow=i;k.isArray=a;k.isPlainObject=o;k.isEmptyObject=function(t){var e;for(e in t)return!1;return!0};k.inArray=function(t,e,i){return S.indexOf.call(e,t,i)};k.camelCase=C;k.trim=function(t){return null==t?"":String.prototype.trim.call(t)};k.uuid=0;k.support={};k.expr={};k.map=function(t,e){var i,n,s,o=[];if(r(t))for(n=0;n<t.length;n++){i=e(t[n],n);if(null!=i)o.push(i)}else for(s in t){i=e(t[s],s);if(null!=i)o.push(i)}return c(o)};k.each=function(t,e){var i,n;if(r(t)){for(i=0;i<t.length;i++)if(e.call(t[i],i,t[i])===!1)return t}else for(n in t)if(e.call(t[n],n,t[n])===!1)return t;return t};k.grep=function(t,e){return L.call(t,e)};if(window.JSON)k.parseJSON=JSON.parse;k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){V["[object "+e+"]"]=e.toLowerCase()});k.fn={forEach:S.forEach,reduce:S.reduce,push:S.push,sort:S.sort,indexOf:S.indexOf,concat:S.concat,map:function(t){return k(k.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return k(T.apply(this,arguments))},ready:function(t){if(G.test(A.readyState)&&A.body)t(k);else A.addEventListener("DOMContentLoaded",function(){t(k)},!1);return this},get:function(t){return t===x?T.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){if(null!=this.parentNode)this.parentNode.removeChild(this)})},each:function(t){S.every.call(this,function(e,i){return t.call(e,i,e)!==!1});return this},filter:function(t){if(e(t))return this.not(this.not(t));else return k(L.call(this,function(e){return X.matches(e,t)}))},add:function(t,e){return k(E(this.concat(k(t,e))))},is:function(t){return this.length>0&&X.matches(this[0],t)},not:function(t){var i=[];if(e(t)&&t.call!==x)this.each(function(e){if(!t.call(this,e))i.push(this)});else{var n="string"==typeof t?this.filter(t):r(t)&&e(t.item)?T.call(t):k(t);this.forEach(function(t){if(n.indexOf(t)<0)i.push(t)})}return k(i)},has:function(t){return this.filter(function(){return s(t)?k.contains(this,t):k(this).find(t).size()})},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!s(t)?t:k(t)},last:function(){var t=this[this.length-1];return t&&!s(t)?t:k(t)},find:function(t){var e,i=this;if("object"==typeof t)e=k(t).filter(function(){var t=this;return S.some.call(i,function(e){return k.contains(e,t)})});else if(1==this.length)e=k(X.qsa(this[0],t));else e=this.map(function(){return X.qsa(this,t)});return e},closest:function(t,e){var i=this[0],s=!1;if("object"==typeof t)s=k(t);for(;i&&!(s?s.indexOf(i)>=0:X.matches(i,t));)i=i!==e&&!n(i)&&i.parentNode;return k(i)},parents:function(t){for(var e=[],i=this;i.length>0;)i=k.map(i,function(t){if((t=t.parentNode)&&!n(t)&&e.indexOf(t)<0){e.push(t);return t}});return g(e,t)},parent:function(t){return g(E(this.pluck("parentNode")),t)},children:function(t){return g(this.map(function(){return f(this)}),t)},contents:function(){return this.map(function(){return T.call(this.childNodes)})},siblings:function(t){return g(this.map(function(t,e){return L.call(f(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return k.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display="");if("none"==getComputedStyle(this,"").getPropertyValue("display"))this.style.display=u(this.nodeName)})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var i=e(t);if(this[0]&&!i)var n=k(t).get(0),s=n.parentNode||this.length>1;return this.each(function(e){k(this).wrapAll(i?t.call(this,e):s?n.cloneNode(!0):n)})},wrapAll:function(t){if(this[0]){k(this[0]).before(t=k(t));for(var e;(e=t.children()).length;)t=e.first();k(t).append(this)}return this},wrapInner:function(t){var i=e(t);return this.each(function(e){var n=k(this),s=n.contents(),o=i?t.call(this,e):t;s.length?s.wrapAll(o):n.append(o)})},unwrap:function(){this.parent().each(function(){k(this).replaceWith(k(this).children())});return this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=k(this);(t===x?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return k(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return k(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0===arguments.length?this.length>0?this[0].innerHTML:null:this.each(function(e){var i=this.innerHTML;k(this).empty().append(m(this,t,e,i))})},text:function(t){return 0===arguments.length?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=t===x?"":""+t})},attr:function(t,e){var i;return"string"==typeof t&&e===x?0==this.length||1!==this[0].nodeType?x:"value"==t&&"INPUT"==this[0].nodeName?this.val():!(i=this[0].getAttribute(t))&&t in this[0]?this[0][t]:i:this.each(function(i){if(1===this.nodeType)if(s(t))for(w in t)v(this,w,t[w]);else v(this,t,m(this,e,i,this.getAttribute(t)))})},removeAttr:function(t){return this.each(function(){1===this.nodeType&&v(this,t)})},prop:function(t,e){t=Y[t]||t;return e===x?this[0]&&this[0][t]:this.each(function(i){this[t]=m(this,e,i,this[t])})},data:function(t,e){var i=this.attr("data-"+t.replace(M,"-$1").toLowerCase(),e);
return null!==i?y(i):x},val:function(t){return 0===arguments.length?this[0]&&(this[0].multiple?k(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(e){this.value=m(this,t,e,this.value)})},offset:function(t){if(t)return this.each(function(e){var i=k(this),n=m(this,t,e,i.offset()),s=i.offsetParent().offset(),o={top:n.top-s.top,left:n.left-s.left};if("static"==i.css("position"))o.position="relative";i.css(o)});if(0==this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,i){if(arguments.length<2){var n=this[0],s=getComputedStyle(n,"");if(!n)return;if("string"==typeof e)return n.style[C(e)]||s.getPropertyValue(e);else if(a(e)){var o={};k.each(a(e)?e:[e],function(t,e){o[e]=n.style[C(e)]||s.getPropertyValue(e)});return o}}var r="";if("string"==t(e))if(!i&&0!==i)this.each(function(){this.style.removeProperty(l(e))});else r=l(e)+":"+h(e,i);else for(w in e)if(!e[w]&&0!==e[w])this.each(function(){this.style.removeProperty(l(w))});else r+=l(w)+":"+h(w,e[w])+";";return this.each(function(){this.style.cssText+=";"+r})},index:function(t){return t?this.indexOf(k(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){if(!t)return!1;else return S.some.call(this,function(t){return this.test($(t))},d(t))},addClass:function(t){if(!t)return this;else return this.each(function(e){I=[];var i=$(this),n=m(this,t,e,i);n.split(/\s+/g).forEach(function(t){if(!k(this).hasClass(t))I.push(t)},this);I.length&&$(this,i+(i?" ":"")+I.join(" "))})},removeClass:function(t){return this.each(function(e){if(t===x)return $(this,"");I=$(this);m(this,t,e,I).split(/\s+/g).forEach(function(t){I=I.replace(d(t)," ")});$(this,I.trim())})},toggleClass:function(t,e){if(!t)return this;else return this.each(function(i){var n=k(this),s=m(this,t,i,$(this));s.split(/\s+/g).forEach(function(t){(e===x?!n.hasClass(t):e)?n.addClass(t):n.removeClass(t)})})},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];if(t===x)return e?this[0].scrollTop:this[0].pageYOffset;else return this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];if(t===x)return e?this[0].scrollLeft:this[0].pageXOffset;else return this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),i=this.offset(),n=B.test(e[0].nodeName)?{top:0,left:0}:e.offset();i.top-=parseFloat(k(t).css("margin-top"))||0;i.left-=parseFloat(k(t).css("margin-left"))||0;n.top+=parseFloat(k(e[0]).css("border-top-width"))||0;n.left+=parseFloat(k(e[0]).css("border-left-width"))||0;return{top:i.top-n.top,left:i.left-n.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||A.body;t&&!B.test(t.nodeName)&&"static"==k(t).css("position");)t=t.offsetParent;return t})}};k.fn.detach=k.fn.remove;["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});k.fn[t]=function(s){var o,a=this[0];if(s===x)return i(a)?a["inner"+e]:n(a)?a.documentElement["scroll"+e]:(o=this.offset())&&o[t];else return this.each(function(e){a=k(this);a.css(t,m(this,s,e,a[t]()))})}});z.forEach(function(e,i){var n=i%2;k.fn[e]=function(){var e,s,o=k.map(arguments,function(i){e=t(i);return"object"==e||"array"==e||null==i?i:X.fragment(i)}),a=this.length>1;if(o.length<1)return this;else return this.each(function(t,e){s=n?e:e.parentNode;e=0==i?e.nextSibling:1==i?e.firstChild:2==i?e:null;o.forEach(function(t){if(a)t=t.cloneNode(!0);else if(!s)return k(t).remove();b(s.insertBefore(t,e),function(t){if(!(null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src))window["eval"].call(window,t.innerHTML)})})})};k.fn[n?e+"To":"insert"+(i?"Before":"After")]=function(t){k(t)[e](this);return this}});X.Z.prototype=k.fn;X.uniq=E;X.deserializeValue=y;k.zepto=X;return k}();window.Zepto=Zepto;void 0===window.$&&(window.$=Zepto);!function(t){function e(t){return t._zid||(t._zid=h++)}function i(t,i,o,a){i=n(i);if(i.ns)var r=s(i.ns);return(g[e(t)]||[]).filter(function(t){return t&&(!i.e||t.e==i.e)&&(!i.ns||r.test(t.ns))&&(!o||e(t.fn)===e(o))&&(!a||t.sel==a)})}function n(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function s(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(t,e){return t.del&&!v&&t.e in $||!!e}function a(t){return y[t]||v&&$[t]||t}function r(i,s,r,_,l,h,u){var f=e(i),p=g[f]||(g[f]=[]);s.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(r);var s=n(e);s.fn=r;s.sel=l;if(s.e in y)r=function(e){var i=e.relatedTarget;if(!i||i!==this&&!t.contains(this,i))return s.fn.apply(this,arguments)};s.del=h;var f=h||r;s.proxy=function(t){t=c(t);if(!t.isImmediatePropagationStopped()){t.data=_;var e=f.apply(i,t._args==d?[t]:[t].concat(t._args));if(e===!1)t.preventDefault(),t.stopPropagation();return e}};s.i=p.length;p.push(s);if("addEventListener"in i)i.addEventListener(a(s.e),s.proxy,o(s,u))})}function _(t,n,s,r,_){var c=e(t);(n||"").split(/\s/).forEach(function(e){i(t,e,s,r).forEach(function(e){delete g[c][e.i];if("removeEventListener"in t)t.removeEventListener(a(e.e),e.proxy,o(e,_))})})}function c(e,i){if(i||!e.isDefaultPrevented){i||(i=e);t.each(k,function(t,n){var s=i[t];e[t]=function(){this[n]=b;return s&&s.apply(i,arguments)};e[n]=x});if(i.defaultPrevented!==d?i.defaultPrevented:"returnValue"in i?i.returnValue===!1:i.getPreventDefault&&i.getPreventDefault())e.isDefaultPrevented=b}return e}function l(t){var e,i={originalEvent:t};for(e in t)if(!w.test(e)&&t[e]!==d)i[e]=t[e];return c(i,t)}var d,h=(t.zepto.qsa,1),u=Array.prototype.slice,f=t.isFunction,p=function(t){return"string"==typeof t},g={},m={},v="onfocusin"in window,$={focus:"focusin",blur:"focusout"},y={mouseenter:"mouseover",mouseleave:"mouseout"};m.click=m.mousedown=m.mouseup=m.mousemove="MouseEvents";t.event={add:r,remove:_};t.proxy=function(i,n){if(f(i)){var s=function(){return i.apply(n,arguments)};s._zid=e(i);return s}else if(p(n))return t.proxy(i[n],i);else throw new TypeError("expected function")};t.fn.bind=function(t,e,i){return this.on(t,e,i)};t.fn.unbind=function(t,e){return this.off(t,e)};t.fn.one=function(t,e,i,n){return this.on(t,e,i,n,1)};var b=function(){return!0},x=function(){return!1},w=/^([A-Z]|returnValue$|layer[XY]$)/,k={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,i){return this.on(e,t,i)};t.fn.undelegate=function(t,e,i){return this.off(e,t,i)};t.fn.live=function(e,i){t(document.body).delegate(this.selector,e,i);return this};t.fn.die=function(e,i){t(document.body).undelegate(this.selector,e,i);return this};t.fn.on=function(e,i,n,s,o){var a,c,h=this;if(e&&!p(e)){t.each(e,function(t,e){h.on(t,i,n,e,o)});return h}if(!p(i)&&!f(s)&&s!==!1)s=n,n=i,i=d;if(f(n)||n===!1)s=n,n=d;if(s===!1)s=x;return h.each(function(d,h){if(o)a=function(t){_(h,t.type,s);return s.apply(this,arguments)};if(i)c=function(e){var n,o=t(e.target).closest(i,h).get(0);if(o&&o!==h){n=t.extend(l(e),{currentTarget:o,liveFired:h});return(a||s).apply(o,[n].concat(u.call(arguments,1)))}};r(h,e,s,n,i,c||a)})};t.fn.off=function(e,i,n){var s=this;if(e&&!p(e)){t.each(e,function(t,e){s.off(t,i,e)});return s}if(!p(i)&&!f(n)&&n!==!1)n=i,i=d;if(n===!1)n=x;return s.each(function(){_(this,e,n,i)})};t.fn.trigger=function(e,i){e=p(e)||t.isPlainObject(e)?t.Event(e):c(e);e._args=i;return this.each(function(){if("dispatchEvent"in this)this.dispatchEvent(e);else t(this).triggerHandler(e,i)})};t.fn.triggerHandler=function(e,n){var s,o;this.each(function(a,r){s=l(p(e)?t.Event(e):e);s._args=n;s.target=r;t.each(i(r,e.type||e),function(t,e){o=e.proxy(s);if(s.isImmediatePropagationStopped())return!1})});return o};"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}});["focus","blur"].forEach(function(e){t.fn[e]=function(t){if(t)this.bind(e,t);else this.each(function(){try{this[e]()}catch(t){}});return this}});t.Event=function(t,e){if(!p(t))e=t,t=e.type;var i=document.createEvent(m[t]||"Events"),n=!0;if(e)for(var s in e)"bubbles"==s?n=!!e[s]:i[s]=e[s];i.initEvent(t,n,!0);return c(i)}}(Zepto);!function(t){function e(e,i,n){var s=t.Event(i);t(e).trigger(s,n);return!s.isDefaultPrevented()}function i(t,i,n,s){if(t.global)return e(i||v,n,s)}function n(e){if(e.global&&0===t.active++)i(e,null,"ajaxStart")}function s(e){if(e.global&&!--t.active)i(e,null,"ajaxStop")}function o(t,e){var n=e.context;if(e.beforeSend.call(n,t,e)===!1||i(e,n,"ajaxBeforeSend",[t,e])===!1)return!1;i(e,n,"ajaxSend",[t,e])}function a(t,e,n,s){var o=n.context,a="success";n.success.call(o,t,a,e);if(s)s.resolveWith(o,[t,a,e]);i(n,o,"ajaxSuccess",[e,n,t]);_(a,e,n)}function r(t,e,n,s,o){var a=s.context;s.error.call(a,n,e,t);if(o)o.rejectWith(a,[n,e,t]);i(s,a,"ajaxError",[n,s,t||e]);_(e,n,s)}function _(t,e,n){var o=n.context;n.complete.call(o,e,t);i(n,o,"ajaxComplete",[e,n]);s(n)}function c(){}function l(t){if(t)t=t.split(";",2)[0];return t&&(t==w?"html":t==x?"json":y.test(t)?"script":b.test(t)&&"xml")||"text"}function d(t,e){if(""==e)return t;else return(t+"&"+e).replace(/[&?]{1,2}/,"?")}function h(e){if(e.processData&&e.data&&"string"!=t.type(e.data))e.data=t.param(e.data,e.traditional);if(e.data&&(!e.type||"GET"==e.type.toUpperCase()))e.url=d(e.url,e.data),e.data=void 0}function u(e,i,n,s){var o=!t.isFunction(i);return{url:e,data:o?i:void 0,success:!o?i:t.isFunction(n)?n:void 0,dataType:o?s||n:n}}function f(e,i,n,s){var o,a=t.isArray(i),r=t.isPlainObject(i);t.each(i,function(i,_){o=t.type(_);
if(s)i=n?s:s+"["+(r||"object"==o||"array"==o?i:"")+"]";if(!s&&a)e.add(_.name,_.value);else if("array"==o||!n&&"object"==o)f(e,_,n,i);else e.add(i,_)})}var p,g,m=0,v=window.document,$=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,y=/^(?:text|application)\/javascript/i,b=/^(?:text|application)\/xml/i,x="application/json",w="text/html",k=/^\s*$/;t.active=0;t.ajaxJSONP=function(e,i){if(!("type"in e))return t.ajax(e);var n,s,_=e.jsonpCallback,c=(t.isFunction(_)?_():_)||"jsonp"+ ++m,l=v.createElement("script"),d=window[c],h=function(e){t(l).triggerHandler("error",e||"abort")},u={abort:h};if(i)i.promise(u);t(l).on("load error",function(o,_){clearTimeout(s);t(l).off().remove();if("error"==o.type||!n)r(null,_||"error",u,e,i);else a(n[0],u,e,i);window[c]=d;if(n&&t.isFunction(d))d(n[0]);d=n=void 0});if(o(u,e)===!1){h("abort");return u}window[c]=function(){n=arguments};l.src=e.url.replace(/=\?/,"="+c);v.head.appendChild(l);if(e.timeout>0)s=setTimeout(function(){h("timeout")},e.timeout);return u};t.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:x,xml:"application/xml, text/xml",html:w,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0};t.ajax=function(e){var i=t.extend({},e||{}),s=t.Deferred&&t.Deferred();for(p in t.ajaxSettings)if(void 0===i[p])i[p]=t.ajaxSettings[p];n(i);if(!i.crossDomain)i.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(i.url)&&RegExp.$2!=window.location.host;if(!i.url)i.url=window.location.toString();h(i);if(i.cache===!1)i.url=d(i.url,"_="+Date.now());var _=i.dataType,u=/=\?/.test(i.url);if("jsonp"==_||u){if(!u)i.url=d(i.url,i.jsonp?i.jsonp+"=?":i.jsonp===!1?"":"callback=?");return t.ajaxJSONP(i,s)}var f,m=i.accepts[_],v={},$=function(t,e){v[t.toLowerCase()]=[t,e]},y=/^([\w-]+:)\/\//.test(i.url)?RegExp.$1:window.location.protocol,b=i.xhr(),x=b.setRequestHeader;if(s)s.promise(b);if(!i.crossDomain)$("X-Requested-With","XMLHttpRequest");$("Accept",m||"*/*");if(m=i.mimeType||m){if(m.indexOf(",")>-1)m=m.split(",",2)[0];b.overrideMimeType&&b.overrideMimeType(m)}if(i.contentType||i.contentType!==!1&&i.data&&"GET"!=i.type.toUpperCase())$("Content-Type",i.contentType||"application/x-www-form-urlencoded");if(i.headers)for(g in i.headers)$(g,i.headers[g]);b.setRequestHeader=$;b.onreadystatechange=function(){if(4==b.readyState){b.onreadystatechange=c;clearTimeout(f);var e,n=!1;if(b.status>=200&&b.status<300||304==b.status||0==b.status&&"file:"==y){_=_||l(i.mimeType||b.getResponseHeader("content-type"));e=b.responseText;try{if("script"==_)(0,eval)(e);else if("xml"==_)e=b.responseXML;else if("json"==_)e=k.test(e)?null:t.parseJSON(e)}catch(o){n=o}if(n)r(n,"parsererror",b,i,s);else a(e,b,i,s)}else r(b.statusText||null,b.status?"error":"abort",b,i,s)}};if(o(b,i)===!1){b.abort();r(null,"abort",b,i,s);return b}if(i.xhrFields)for(g in i.xhrFields)b[g]=i.xhrFields[g];var w="async"in i?i.async:!0;b.open(i.type,i.url,w,i.username,i.password);for(g in v)x.apply(b,v[g]);if(i.timeout>0)f=setTimeout(function(){b.onreadystatechange=c;b.abort();r(null,"timeout",b,i,s)},i.timeout);b.send(i.data?i.data:null);return b};t.get=function(e,i,n,s){return t.ajax(u.apply(null,arguments))};t.post=function(e,i,n,s){var o=u.apply(null,arguments);o.type="POST";return t.ajax(o)};t.getJSON=function(e,i,n){var s=u.apply(null,arguments);s.dataType="json";return t.ajax(s)};t.fn.load=function(e,i,n){if(!this.length)return this;var s,o=this,a=e.split(/\s/),r=u(e,i,n),_=r.success;if(a.length>1)r.url=a[0],s=a[1];r.success=function(e){o.html(s?t("<div>").html(e.replace($,"")).find(s):e);_&&_.apply(o,arguments)};t.ajax(r);return this};var I=encodeURIComponent;t.param=function(t,e){var i=[];i.add=function(t,e){this.push(I(t)+"="+I(e))};f(i,t,e);return i.join("&").replace(/%20/g,"+")}}(Zepto);!function(t){t.fn.serializeArray=function(){var e,i=[];t([].slice.call(this.get(0).elements)).each(function(){e=t(this);var n=e.attr("type");if("fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&("radio"!=n&&"checkbox"!=n||this.checked))i.push({name:e.attr("name"),value:e.val()})});return i};t.fn.serialize=function(){var t=[];this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))});return t.join("&")};t.fn.submit=function(e){if(e)this.bind("submit",e);else if(this.length){var i=t.Event("submit");this.eq(0).trigger(i);if(!i.isDefaultPrevented())this.get(0).submit()}return this}}(Zepto);!function(t){if(!("__proto__"in{}))t.extend(t.zepto,{Z:function(e,i){e=e||[];t.extend(e,t.fn);e.selector=i||"";e.__Z=!0;return e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(e){var i=getComputedStyle;window.getComputedStyle=function(t){try{return i(t)}catch(e){return null}}}}(Zepto);I$(152,function(t,e,i){i._$$PointHotRegion=t._$klass();var n=i._$$PointHotRegion._$extend(e._$$EventTarget);n.__reset=function(t){this.__region={_leftX:t._leftX,_leftY:t._leftY,_rightX:t._rightX,_rightY:t._rightY}};n._$ifInsideRegion=function(t,e){var i=this.__region._leftX,n=this.__region._leftY,s=this.__region._rightX,o=this.__region._rightY;if(t>i&&t<=s&&e>n&&e<=o)return!0;else return!1};return i},31,32);I$(166,'{var islastTwo = false} {if code == 703}     {var islastTwo = true} {/if} {if code==200}     {if prevSectionId != "0"}     {if hasAd}     <li class="page-item">         <div class="prompt-section common-bgd" style="overflow: hidden;">             <div><i class="f-ib sprite-reader-deer-downloadapp"></i></div>             {if hasDownload}             <a href="${picInsertMid|getDownloadUrl}" data-log="app_download,download_app_pic_insert,h5">                 <div class="f-tac download-plugin">                     <div class="download-tip" style="line-height: 2;">安装网易漫画APP，更新漫画提前看<br>精彩评论 + 搞笑吐槽 666</div>                      <div class="f-ib dl-btn-area f-pr">                         <i class="f-ib pop-star pop-star1 sprite-reader-star1"></i>                         <i class="f-ib pop-star pop-star2 sprite-reader-star2"></i>                         <i class="f-ib pop-star pop-star3 sprite-reader-star3"></i>                         {if lock}                         <span class="f-ib reader-download--danger">下载APP畅快看</span>                         {else}                         <span class="f-ib reader-download--danger">下载APP追更咯！</span>                         {/if}                     </div>                 </div>             </a>             {else}                 <div class="f-tac download-plugin">                     <div class="download-tip" style="line-height: 2;">安装网易漫画APP，更新漫画提前看<br>精彩评论 + 搞笑吐槽 666</div>                 </div>             {/if}          </div>     </li>     {/if}     {/if}     {if !defined("images")|| images.length==0}          <li class="page-item" bookid="${bookId}" sectionid="${sectionId}" sectiontitle="${sectionTitle|escape}">             <div class="section-null">             </div>         </li>      {else if images&&images.length}         {list images as x}         {var imgWidth= x.bookImageWidth||x.width}         {var imgHeight= x.bookImageHeight||x.height}         <li class="j-comic-item j-comic-item-lazy page-item" bookid="${x.bookId}" sectionid="${x.sectionId}" sectiontitle="${sectionTitle|escape}" sectionorder="${sectionTitleOrder|escape}"             index="${x_index+1}" sectiontotal="${x_length}" data-width="${imgWidth}" data-height="${imgHeight}"             style="height: {if imgWidth >= screeWidth}${parseInt(parseInt(imgHeight)*screeWidth/parseInt(imgWidth))+5}{else}${imgHeight+5}{/if}px">             <div class="j-holder loading-block">                 <div class="table-cell"><span class="item-index">${x_index+1}</span><br/><span                         class="loading">loading......</span></div>             </div>             <img class="j-img comic-img" data-src="{if isWebPSupport}${x.webpUrl}{else}${x.url}{/if}" alt="漫画图片" style="display: none"/>         </li>         {/list}     {/if} {else}     <li class="j-comic-item page-item" bookid="${bookId}" sectionid="${sectionId}" sectiontitle="${sectionTitle|escape}"  index="1">         <div class="prompt-section common-bgd">             <div class="title"><i class="f-ib sprite-reader-lock" style="vertical-align: text-bottom;"></i>&nbsp;<span>${sectionTitle|escape}</span></div>             <div style="margin-top: 45px;"><i class="f-ib {if islastTwo}sprite-reader-lock-last{else}sprite-reader-lock-vip{/if}"></i></div>             <div class="f-tac download-plugin">                 {if islastTwo}<div class="download-tip">安装网易漫画APP，追更更快呦！</div>{/if}                 <div class="f-ib dl-btn-area f-pr">                     <i class="f-ib pop-star pop-star1 sprite-reader-star1"></i>                     <i class="f-ib pop-star pop-star2 sprite-reader-star2"></i>                     <i class="f-ib pop-star pop-star3 sprite-reader-star3"></i>                     {if islastTwo}                         {if hasDownload}                         <a href="${picLockMid|getDownloadUrl}" data-log="app_download,download_app_pic_lock,h5" class="f-ib reader-download--danger">下载APP解锁！</a>                         {/if}                     {else}                         {if baoyueType == 1}                         <span style="padding: 8px 32px;" data-origin="${origin}" class="js-recharge f-ib reader-download--danger">开通VIP，海量漫画免费看</span>                         {/if}                         <span style="margin-top: 15px;" data-sectionid="${sectionId}" class="js-purchase f-ib reader-download--danger">${price}钻石{if isDiscount}（折后）{/if}购买此{if payType == 1}话{else}本{/if}</span>                     {/if}                 </div>             </div>         </div>     </li> {/if} ');I$(160,function(t,e,i){function n(t){return window.btoa(window.encodeURIComponent(JSON.stringify(t)))}function s(t,i,n,s){if(!e.ios())try{
window._flyflowNative.exec.apply(window._flyflowNative,arguments)}catch(o){console.log(o)}else{var a="baidubrowserapp://bdcomic?action="+i+"&params="+(n||"")+"&func="+(s||"");r().src=a}}function o(t){var e="callback"+ +new Date;window[e]=function(i){var n;try{n=JSON.parse(window.decodeURIComponent(window.atob(i)))}catch(s){console.log(i);n=null}t&&t(n);window[e]=void 0};return e}var a=null,r=function(){return function(){var t=document.createElement("iframe");document.head.appendChild(t);var e=function(){t.parentNode.removeChild(t)};t.onerror=e;t.onload=e;return t}}();i._$setChapterInfo=function(t,e){s("bdcomic","setChapterInfo",n(t),o(e))};i._$setPagesInfo=function(t){s("bdcomic","setPagesInfo",n(t),null)};i._$share=function(){s("bdcomic","shareWebPage",n(a),null)};i._$close=function(){s("bdcomic","notifyPageLoad",null,null)};i._$initShare=function(e){if(!a){a=t._$merge({shareSource:8001},e);window.comicNativeGetShareInfo=function(){i._$share()}}};i._$setShareData=function(e){t._$merge(a,e)}},3,12);I$(156,function(t,e,i,n,s,o,a,r){r._$$CacheComic=t._$klass();var _=r._$$CacheComic._$extend(e._$$CacheAbstract);_._$getData=function(t){var e=this.__getDataInCache(t);if(!e){var n=t+"_getData",s=this._$dispatchEvent._$bind(this,"ondataload",{type:"getData",_key:t});if(!this.__doQueueRequest(n,s))i._$request("/comic/source.json",{onload:function(e){this.__setDataInCache(t,e);this.__doCallbackRequest(n)}._$bind(this)})}else this._$dispatchEvent("ondataload",{key:t,type:"getData"})};_._$favorite=function(t){var e=t+"_favorite",o=this._$dispatchEvent._$bind(this,"ondataload",{type:"favorite",key:t}),a=this.__getDataInCache(t);if(a){var r="/subscribe/"+(a.subscribed?"delete":"add")+".json";if(!this.__doQueueRequest(e,o))i._$request(r,{method:"POST",type:"json",data:{bookIds:t},onload:function(t){if(200!=t.code){this.__doClearReqQueue(e);if(401==t.code){var i=location.pathname+location.search;location.href="/login/form.do?targetUrl="+encodeURIComponent(i)}}else{if(window.PG_CONFIG&&window.PG_CONFIG.isSogou){var s={id:window.PG_CONFIG.bookId,title:window.PG_CONFIG.bookTitle,author:window.PG_CONFIG.bookAuthor,latest:window.PG_CONFIG.latestSectionTitle,latest_id:window.PG_CONFIG.latestSectionId,cover:window.PG_CONFIG.cover,latestPublishTime:window.PG_CONFIG.updateTime,progress:window.PG_CONFIG.progress,progress_id:window.PG_CONFIG.progress_id};if(a.subscribed)n._$unCollect(s);else n._$collect(s)}a.subscribed=!a.subscribed;this.__doCallbackRequest(e)}}._$bind(this),onerror:function(){s._$toast({tipContent:"网络错误",delay:1500});this.__doClearReqQueue(e)}._$bind(this)})}else if(window.__DEV__)console.error("Comic item is null, the favorite action is not performed")};_._$addbookProgress=function(t){var e=t.bookId+"_bookProgress",s=this._$dispatchEvent._$bind(this,"ondataload",{type:"bookProgress",key:t.bookId});if(window.PG_CONFIG&&window.PG_CONFIG.isSogou)n._$progress({id:window.PG_CONFIG.bookId,title:window.PG_CONFIG.bookTitle,author:window.PG_CONFIG.bookAuthor,latest:window.PG_CONFIG.latestSectionTitle,cover:window.PG_CONFIG.cover,latestPublishTime:window.PG_CONFIG.updateTime,progress:t.sectionTitleOrder,progress_id:t.sectionId});var o="/bookProgress/add.json";if(!this.__doQueueRequest(e,s))i._$request(o,{method:"POST",type:"json",data:{bookId:t.bookId,sectionId:t.sectionId,page:t.page},onload:function(t){this.__doCallbackRequest(e)}._$bind(this),onerror:function(){this.__doClearReqQueue(e)}._$bind(this)})};_._$statistic=function(t){var e="/statistic/book/click/"+t.bookId+"/"+t.sectionId+".json";i._$request(e,{method:"GET",type:"json",onload:function(t){}._$bind(this)})};_._$actionReport=function(t){var e="/reportAction.json";i._$request(e,{method:"POST",type:"json",data:{target:t.target,actionCost:t.actionCost,action:t.action},onload:function(t){}._$bind(this)})};_._$saveSections=function(t){var e=t.data,n=t.onLoad,s=t.onError,o="/trade/saveSections.json";i._$request(o,{type:"json",data:e,method:"post",onload:function(t){n(t)},onerror:function(t){s(t)}})};_._$buySection=function(t){var e=t.data,n=t.onLoad,s=t.onError,o="/trade/purchase/async.json";i._$request(o,{type:"json",data:e,method:"post",onload:function(t){n(t)},onerror:function(t){s(t)}})};_._$loadSection=function(t){var e=t.data||{},n=t.onLoad,s=t.onError,o="/reader/section/"+e.bookId+"/"+e.sectionId+".json";i._$request(o,{type:"json",data:{open:e.open||!1},method:"post",onload:function(t){n(t)},onerror:function(t){s(t)}})};return r},31,81,14,16,17,160,12);I$(162,function(t,e,i,n,s,o,a,r,_,c,l,d,h,u){u._$$ViewData=t._$klass();var f=u._$$ViewData._$extend(n._$$EventTarget);f.__reset=function(t){this._$dataList=t._$dataList||[];this.downloadBetweenInSection=t.downloadBetweenInSection||!1;this.downloadTipUseLink=t.downloadTipUseLink||!1;this._$prev=null;this._$next=null;this._$domNodes=t._$domNodes;this._$topOffset=0;this._$bottomOffset=0;this.__seedHtml=a._$add(o);this.__comicCache=r._$$CacheComic._$allocate({});this.__isOddTime=!0;this.__isWebPSupport=_.getSupportWebp();this.__isMultiTucaoAWrap=h.ios();this.readerWrap=t.readerWrap;this.readerInner=t.readerInner;this.lock=t.lock;this.__proEvent()};f._$getViewList=function(){var t=[];return t.concat(this.prev,this.next)};f.__proEvent=function(){var t=this;s._$addEvent(document.body,"click",function(e){var i=s._$getElement(e,"c:js-purchase");if(i){var n=i.textContent,o=Number(n.match(/\d+/)[0]),a=i.getAttribute("data-sectionid");t.__comicCache._$saveSections({data:{sectionIds:a},onLoad:function(e){if(200==e.code)if(window.PG_CONFIG.balance>=o){l._$toast({tipContent:"正在执行购买"});t.__buySection(a)}else{l._$toast({tipContent:"余额不足，将跳转到充值页面"});setTimeout(function(){t.__goRecharge(e.key)},1e3)}}})}var i=s._$getElement(e,"c:js-recharge");if(i)if(window.USER){var r=location.host,_="https://pay.manhua.163.com";if(r.indexOf("test")!==-1)_="https://testpay.manhua.163.com";if(r.indexOf("pre")!==-1)_="https://prepay.manhua.163.com";location.href=_+"/recharge/vip?targetUrl="+i.getAttribute("data-origin")}else{var c=location.pathname+location.search;location.href="/login/form.do?targetUrl="+encodeURIComponent(c)}})};f._$getInitContent=function(t,e){var i=this;this.__comicCache._$loadSection({data:{open:this.lock,bookId:t.bookId,sectionId:t.sectionId},onLoad:function(n){if(603==n.code){if(window.history&&history.replaceState){window.history.replaceState(null,null,"/static/page_not_found.html");history.go(0)}return!1}if(window.PG_CONFIG.isBaiduBrowser){d._$setChapterInfo({comicId:window.PG_CONFIG.bookId,title:window.PG_CONFIG.bookTitle,allChapter:+window.PG_CONFIG.totalCount,isFinish:window.PG_CONFIG.isFinish});d._$setShareData({chapterName:n.sectionTitle,chapterShowId:n.sectionTitleOrder,chapterId:t.sectionId})}i._$dataList.push(n);window.PG_CONFIG.progress=n.sectionTitleOrder;i._$appendNode.call(i,n,"bottom");e()},onError:function(){}})};f._$appendNode=function(t,i){var n=this;if(t){var s=t.code,o=n.readerWrap.scrollTop,r=e._$getPageBox(),c=a._$get(n.__seedHtml,{bookId:t.bookId,prevSectionId:t.prevSectionId,price:t.discountPrice||t.price,isDiscount:void 0!==t.discount&&100!==t.discount,baoyueType:window.PG_CONFIG.baoyueType,payType:window.PG_CONFIG.payType,sectionId:t.sectionId,origin:encodeURIComponent(location.protocol+"//"+location.host+"/reader/"+t.bookId+"/"+t.sectionId),screeWidth:r.clientWidth,screeHeight:r.clientHeight,sectionTitle:t.sectionTitle,sectionTitleOrder:t.sectionTitleOrder,images:t.images||[],isWebPSupport:_.getSupportWebp(),code:s,lock:n.lock,hasAd:window.PG_CONFIG.hasInsertedAd,hasDownload:window.PG_CONFIG.hasInsertedDownload,downloadBetweenInSection:n.downloadBetweenInSection,downloadTipUseLink:n.downloadTipUseLink,isMultiTucaoAWrap:n.__isMultiTucaoAWrap,picLockMid:window.PG_CONFIG.isSogou?"2017033002":"",picInsertMid:window.PG_CONFIG.isSogou?"2016061409":""},{buildUserThumbnailUrl:_.buildUserThumbnailUrl,getDownloadUrl:function(t){var e="/download?direct=1";return t?e+"&mid="+t:e}}),l=$(c);if("top"==i)this._$domNodes.prepend(l);else this._$domNodes.append(l);for(var d=0,h=0;h<l.length;h++)try{d+=$(l[h]).height()}catch(u){}return o+d}};f.__goRecharge=function(t){var e="4,"+window.PG_CONFIG.bookId+","+t+",0";if(2==window.PG_CONFIG.payType)e="1,"+window.PG_CONFIG.bookId;var n=i._$object2query({targetUrl:location.href,_CR:e});location.href=window.PG_CONFIG.rechargeFormUrl+".do?"+n};f.__buySection=function(t){var e={bookId:window.PG_CONFIG.bookId,sectionIds:t,autoPurchaseSwitch:0,token:"sections_pay_"+(new Date).getTime()};this.__comicCache._$buySection({data:e,onLoad:function(t){if(0==t.code){l._$toast({tipContent:"购买成功"});setTimeout(function(){location.reload()},1e3)}}})};f._$loadPrev=function(t,e){var i=this;if(null!=t)t();var n=this._$dataList[0];if(0!=n.prevSectionId)this.__comicCache._$loadSection({data:{open:this.lock,bookId:n.bookId,sectionId:n.prevSectionId},onLoad:function(t){i._$dataList.unshift(t);var n=i._$appendNode.call(i,t,"top");if(e)e(0,n)},onError:function(t){if(e)e(1)}});else if(null!=e)e(2)};f._$loadNext=function(t,e){var i=this;if(null!=t)t();var n=this._$dataList[this._$dataList.length-1];if(0==n.nextSectionId)if(e)return e(2);this.__comicCache._$loadSection({data:{open:this.lock,bookId:n.bookId,sectionId:n.nextSectionId},onLoad:function(t){i._$dataList.push(t);i._$appendNode.call(i,t,"bottom");if(e){var n=i.readerWrap.scrollTop;e(0,n)}},onError:function(){if(e)e(1)}})};f._$updateBookProgress=function(t,e,i){for(var n=this._$dataList,s="",o="",a=0;a<n.length;a++)if(n[a].sectionId==e){s=n[a].sectionTitle;o=n[a].sectionTitleOrder;break}if(window.PG_CONFIG){window.PG_CONFIG.progress=o;window.PG_CONFIG.progress_id=e}this.__comicCache._$addbookProgress({bookId:t,sectionId:e,sectionTitle:s,sectionTitleOrder:o,page:i,data:this._$dataList})}},31,2,3,32,5,166,40,156,13,151,17,160,12);I$(163,function(t){t._getAnimateTime=function(t,e){var i=.5,n=Math.abs(t-e),s=n/i;return s};t._getCookie=function(t){var e,i=new RegExp("(^| )"+t+"=([^;]*)(;|$)");if(e=document.cookie.match(i))return decodeURI(e[2]);else return null;
};t._setCookie=function(t){var e=t.days||30,i=new Date;i.setTime(i.getTime()+24*e*60*60*1e3);var n=t.domain||location.host,s=t.path||"/";document.cookie=t.name+"="+encodeURI(t.value)+";domain="+n+";path="+s+";expires="+i.toGMTString()};return t});I$(167,'<div class="m-start-tip">     <div class="mask" style="width: 100%; height: 200%"></div>     <div class="menu-tip"><span></span><img src="/images/reader/tip-start@2x.png" srcset="/images/reader/tip-start@2x.png 2x,/images/reader/tip-start@3x.png 3x"></div> </div>');I$(168,".m-start-tip{} .m-start-tip .mask{ position: fixed; z-index: 1;background: #000000;cursor: pointer;opacity:0.8;filter:alpha(opacity=0.8);    top: 0;  bottom: 0;  left: 0;  right: 0;  width: 100%;  height: 100%;} .m-start-tip .menu-tip{ position:fixed; z-index:2;text-align: center;left:0;top:0;right:0;bottom:0; color: #ffffff;} .m-start-tip .menu-tip span{display:inline-block;width: 0;height: 100%; vertical-align: middle} .m-start-tip .menu-tip img{width: 56%;vertical-align: middle;margin-top:-7%;} ");I$(146,function(t,e,i,n,s,o,a,r){var _;s._$$Animation=e._$klass();_=s._$$Animation._$extend(i._$$EventTarget);_.__reset=function(t){this.__super(t);this.__end=t.to||o;this.__begin=t.from||{};this.__delay=Math.max(0,parseInt(t.delay)||0)};_.__destroy=function(){this.__super();this._$stop();if(this.__dtime){window.clearTimeout(this.__dtime);delete this.__dtime}delete this.__end;delete this.__begin};_.__onAnimationFrame=function(t){if(this.__begin){if((""+t).indexOf(".")>=0)t=+new Date;if(!this.__doAnimationFrame(t))this.__timer=n.requestAnimationFrame(this.__onAnimationFrame._$bind(this));else this._$stop()}};_.__doAnimationFrame=a;_._$play=function(){var t=function(){this.__dtime=window.clearTimeout(this.__dtime);this.__begin.time=+new Date;this.__timer=n.requestAnimationFrame(this.__onAnimationFrame._$bind(this))};return function(){this.__dtime=window.setTimeout(t._$bind(this),this.__delay)}}();_._$stop=function(){this.__timer=n.cancelAnimationFrame(this.__timer);this._$dispatchEvent("onstop")};if(!0)t.copy(t.P("nej.ut"),s);return s},19,31,32,64);I$(145,function(t,e,i,n,s,o,a,r){var _;s._$$AnimBezier=e._$klass();_=s._$$AnimBezier._$extend(n._$$Animation);_.__reset=function(t){this.__super(t);this.__duration=t.duration||200;this.__epsilon=1/(200*this.__duration);this.__doParseTiming(t.timing);this.__doCalPolynomialCoefficients()};_.__destroy=function(){this.__super();delete this.__pointer;delete this.__coefficient};_.__doParseTiming=function(){var t=/^cubic\-bezier\((.*?)\)$/i,e=/\s*,\s*/i,n={linear:[0,0,1,1],ease:[.25,.1,.25,1],easein:[.42,0,1,1],easeout:[0,0,.58,1],easeinout:[0,0,.58,1]},s=function(t,e,i){i[e]=parseFloat(t)};return function(o){o=(o||"").toLowerCase();this.__pointer=n[o];if(t.test(o)){this.__pointer=RegExp.$1.split(e);i._$forEach(this.__pointer,s)}if(!this.__pointer)this.__pointer=n.ease}}();_.__doCalPolynomialCoefficients=function(){var t=this.__pointer,e=3*t[0],i=3*(t[2]-t[0])-e,n=1-e-i,s=3*t[1],o=3*(t[3]-t[1])-s,a=1-s-o;this.__coefficient={ax:n,ay:a,bx:i,by:o,cx:e,cy:s}};_.__doCalCubicBezierAtTime=function(){var t=function(t,e){return((e.ax*t+e.bx)*t+e.cx)*t},e=function(t,e){return((e.ay*t+e.by)*t+e.cy)*t},i=function(t,e){return(3*e.ax*t+2*e.bx)*t+e.cx},n=function(e,n,s){var o,a,r,_,c,l;for(r=e,l=0;l<8;l++){_=t(r,s)-e;if(Math.abs(_)<n)return r;c=i(r,s);if(Math.abs(c)<1e-6)break;r-=_/c}o=0;a=1;r=e;if(r<o)return o;if(r>a)return a;for(;o<a;){_=t(r,s);if(Math.abs(_-e)<n)return r;if(e>_)o=r;else a=r;r=.5*(a-o)+o}return r};return function(t){return e(n(t/this.__duration,this.__epsilon,this.__coefficient),this.__coefficient)}}();_.__doAnimationFrame=function(t){var e=t-this.__begin.time,n=this.__doCalCubicBezierAtTime(e),s=i._$fixed(this.__begin.offset*(1-n)+this.__end.offset*n,2),o=!1;if(e>=this.__duration){s=this.__end.offset;o=!0}this._$dispatchEvent("onupdate",{offset:1*s});return o};_._$stop=function(){this._$dispatchEvent("onupdate",{offset:this.__end.offset});this.__super()};if(!0)t.copy(t.P("nej.ut"),s);return s},19,31,3,146);I$(169,function(t,e,i,n,s,o,a,r){var _;s._$$AnimLinear=e._$klass();_=s._$$AnimLinear._$extend(n._$$AnimBezier);_.__reset=function(t){t=i._$merge({},t);t.timing="linear";this.__super(t)};if(!0)t.copy(t.P("nej.ut"),s);return s},19,31,3,145);I$(164,function(t,e,i,n,s,o,a,r){r._$$DaoTip=e._$klass();var _=r._$$DaoTip._$extend(t._$$Abstract);_.__initXGui=function(){var t=i._$pushCSSText(o),e=n._$addNodeTemplate(s);return function(){this.__seed_css=t;this.__seed_html=e}}();_.__reset=function(t){this.__super(t);this.__afterFadeout=t.afterFadeout;this.__addEvent()};_.__addEvent=function(){this.__doInitDomEvent([[this.__body,"click",this.__tipFadeout._$bind(this)]])};_.__tipFadeout=function(t){var e=this;this.__animation=a._$$AnimLinear._$allocate({from:{offset:1},to:{offset:0},delay:0,duration:500,onupdate:function(t){if(1!=t.offset)e.__body.style.opacity=t.offset},onstop:function(){i._$remove(e.__body,!1);e.__animation=null;e.__afterFadeout();e._$recycle()}});this.__animation._$play();this.__doClearDomEvent();t.stopPropagation()};_.__destroy=function(){this.__super()};return r},36,31,2,37,167,168,169);I$(170,".m-lock-tip {     position: fixed;     bottom: -40px;     left: 0;     right: 0;     background: rgba(255, 255, 255, 0.97);     padding: 10px 0;     animation: scale-in 0.5s forwards; }   @keyframes scale-in {     0% {         transform: translate(0, 100px);         opacity: 0.5;     }     100% {         opacity: 1;      } }  .m-lock-tip .tip-inner {     position: absolute;     bottom: 40px;     width: 100%;     max-width: 375px;     margin: auto;     position: relative;  }  .m-lock-tip img {     width: 100%;     display: block; }  .m-lock-tip .tip-content {     position: absolute;     text-align: center;     right: 2%;     bottom: 15%;     width: 220px;     font-size: 13px;     line-height: 1.5;     color: #666666; }  @media screen and (max-width: 350px) {     .m-lock-tip .tip-content {         font-size: 11px;         bottom: 12%;         right: 1%;     } }  .m-lock-tip .reader-download {     background-color: #ff5f67;     padding: 10px 30px;     color: #ffffff;     border-radius: 50px;     margin-top: 10px;  } ");I$(171,'<div id="lock" class="m-lock-tip">     <div class="tip-inner">         <img src="/images/reader/lock-tip.png" alt="">         <div class="tip-content">             还想继续看后续章节？ <br>             下载网易漫画App免费畅读海量漫画！             <a href="/download?direct=1" class="f-ib reader-download" data-log="reader,lock_end,download">下载APP畅快看</a>         </div>     </div>   </div> ');I$(165,function(t,e,i,n,s,o,a,r,_){_._$$LockTip=t._$klass();var c=_._$$LockTip._$extend(e._$$Abstract);c.__initXGui=function(){var t=i._$pushCSSText(a),e=o._$addNodeTemplate(r);return function(){this.__seed_css=t;this.__seed_html=e}}();c.__reset=function(t){this.__super(t)};c.__addEvent=function(){};c._$show=function(){this._$appendTo(this.__parent);this.__visible=!0};c._$hide1=function(){this._$hide();this.__visible=!1};c._$isVisible=function(){return this.__visible};c.__destroy=function(){this.__super()};return _},31,36,2,5,32,37,170,171);I$(153,function(t,e,i,n,s,o,a,r,_,c,l,d,h,u,f,p){var g=!0;p._$$SlideController=t._$klass();var m=p._$$SlideController._$extend(i._$$EventTarget);m.__reset=function(t){this.__options={readerWrap:t.readerWrap,readerInner:t.readerInner,_initSectionInfo:t._initSectionInfo,_currentPageInfo:t._currentPageInfo,_beforeBottomLoad:t._beforeBottomLoad||null,_afterBottomLoad:t._afterBottomLoad||null,_beforeTopLoad:t._beforeTopLoad||null,_afterTopLoad:t._afterTopLoad||null,comicPicList:t.comicPicList||null,_topOffset:t.topOffset||0,_bottomOffset:t._$bottomOffset||0,_listField:"images",_sectionToast:t._sectionToast,isLogin:t.isLogin,statPageDuration:t.statPageDuration,_readerToolbar:t._readerToolbar,downloadBetweenInSection:t.downloadBetweenInSection,downloadTipUseLink:t.downloadTipUseLink,readerLazyLoader:t.readerLazyLoader,lock:t.lock};if(this.__options.lock>0){this.locked=!0;this.lockNum=this.__options.lock}var e=this,i=e.__options,n=i.comicPicList;this.__lastSendProgressTime=null;this.__isLatestSectionLoaded=!1;this.__isFirstSectionLoaded=!1;this.__viewData=s._$$ViewData._$allocate({readerWrap:t.readerWrap,readerInner:t.readerInner,_$domNodes:$(n),downloadBetweenInSection:i.downloadBetweenInSection,downloadTipUseLink:i.downloadTipUseLink,lock:this.locked});this.__cacheComicInstance=c._$$CacheComic._$getInstance();$(n).attr("scrollPagination","enabled");e.__viewData._$getInitContent(i._initSectionInfo,e._$aferGetInitContent._$bind(e))};m._$aferGetInitContent=function(){if("undefined"!=typeof NRUM)NRUM.measure("readerOnLoad");var t=this,i=t.__options,s=i.comicPicList;i.readerLazyLoader._$refresh();if(t.locked)if(t.lockNum>1)t.lockNum--;else{t.__isLatestSectionLoaded=!0;t.__isFirstSectionLoaded=!0;i._afterBottomLoad(2)}if(s.offsetHeight<i.readerWrap.clientHeight)t._$loadSection(!1);var c=t.__isTimeToSendProgress();if(c&&c.shouldSendProgress){t.__viewData._$updateBookProgress(i._initSectionInfo.bookId,i._initSectionInfo.sectionId,i._initSectionInfo.page);t.__cacheComicInstance._$actionReport({target:i._initSectionInfo.bookId,actionCost:c.timeLag,action:2})}t._$setPage(i._initSectionInfo.page);if(window.PG_CONFIG.isBaiduBrowser){var l=t._$getPageInfo();h._$setPagesInfo({comicId:window.PG_CONFIG.bookId,name:window.PG_CONFIG.bookTitle,page:+l.current,chapterShowId:l.order,chapterId:l.sectionId,allPages:+l.total})}t.__hitsAndReadActionReport(i._initSectionInfo.sectionId,i._initSectionInfo.page);var d=i.readerWrap.scrollTop,u=t._$getPageInfo();this._$recordPage(u.current||1,u.sectionId);var f="isFirstTime";if(null==o._getCookie(f)&&window.PG_CONFIG.hasDaoTip){a._$$DaoTip._$allocate({parent:document.body,afterFadeout:function(){i._sectionToast._$toastShow({tipContent:u.title,delay:1500})}})}else if(!window.PG_CONFIG.isBaiduBrowser)i._sectionToast._$toastShow({tipContent:u.title,delay:1500});o._setCookie({name:f,value:f});$(i.readerWrap).scroll(function(s){if(!e._$hasClassName(document.documentElement,"fixed")){
var o=i.readerWrap.scrollTop,a=o-d<0?!0:!1;d=o;t._$loadSection(a);var c=t._$getPageInfo();if(u.sectionId!=c.sectionId||u.current!=c.current){if(window.PG_CONFIG.isBaiduBrowser)h._$setPagesInfo({comicId:window.PG_CONFIG.bookId,name:window.PG_CONFIG.bookTitle,page:+c.current,chapterShowId:c.order,chapterId:c.sectionId,allPages:+c.total});if(u.sectionId!=c.sectionId){if(!window.PG_CONFIG.isBaiduBrowser)i._sectionToast._$toastShow({tipContent:c.title,delay:1500});if(window.PG_CONFIG.isBaiduBrowser)h._$setShareData({chapterShowId:c.order,chapterName:c.title,chapterId:c.sectionId})}t._$recordPage(c.current||1,c.sectionId);t.__hitsAndReadActionReport(c.sectionId,c.current||1);var l=t.__isTimeToSendProgress();if(l&&l.shouldSendProgress){t.__viewData._$updateBookProgress(i._initSectionInfo.bookId,c.sectionId,c.current||1);t.__cacheComicInstance._$actionReport({target:i._initSectionInfo.bookId,actionCost:l.timeLag,action:2})}if(window.history&&history.replaceState)try{var f=r.parseQuery();f.page=c.current||1;window.history.replaceState(null,null,"/reader/"+i._initSectionInfo.bookId+"/"+c.sectionId+"?"+n._$object2string(f,"&"))}catch(p){_._$capture("error,reader,history")}u=c}}})};m._$loadSection=function(t){var e=this,i=e.__options;if(g)if(t){var n=i.readerWrap.scrollTop<=i._topOffset;if(n&&!e.__isFirstSectionLoaded)e.__viewData._$loadPrev(function(){g=!1;i._beforeTopLoad()},function(t,n){if(e.locked)if(e.lockNum>1)e.lockNum--;else{e.__isFirstSectionLoaded=!0;if(0==t){i.readerWrap.style["-webkit-overflow-scrolling"]="auto";setTimeout(function(){i.readerWrap.scrollTop=n;i.readerWrap.style["-webkit-overflow-scrolling"]="touch";i._afterTopLoad(3);g=!0},2);return}}if(0==t){i.readerWrap.style["-webkit-overflow-scrolling"]="auto";setTimeout(function(){i.readerWrap.scrollTop=n;i.readerWrap.style["-webkit-overflow-scrolling"]="touch";i._afterTopLoad(t);g=!0},2)}else{i._afterTopLoad(t);g=!0}})}else{var s=i._bottomOffset>=i.readerInner.offsetHeight-i.readerWrap.offsetHeight-i.readerWrap.scrollTop;if(s&&!e.__isLatestSectionLoaded)e.__viewData._$loadNext(function(){g=!1;i._beforeBottomLoad()},function(t,n){g=!0;if(e.locked)if(e.lockNum>1)e.lockNum--;else{e.__isLatestSectionLoaded=!0;i._afterBottomLoad(2);return}if(0==t){i.readerWrap.scrollTop=n;i._afterBottomLoad(t)}else{if(2==t)e.__isLatestSectionLoaded=!0;i._afterBottomLoad(t)}});else if(e.locked&&s&&e.__isLatestSectionLoaded&&!e.lockTipInstance)e.lockTipInstance=f._$$LockTip._$allocate({parent:document.body})}};m._$getPageInfo=function(){var t=this,e=t.__options,i=$(e.comicPicList),n=e.readerWrap.clientHeight,s=e.readerWrap.scrollTop+n/2,o=i.find(".j-comic-item"),a={title:"",current:0,total:0,sectionId:0,order:""},r=o.length;if(r>0){var _=o[r-1];a.title=_.getAttribute("sectiontitle");a.order=_.getAttribute("sectionorder");a.current=_.getAttribute("index");a.total=_.getAttribute("sectiontotal");a.sectionId=_.getAttribute("sectionid")}for(var c=0;c<r-1;c++){var l=o[c],d=l.offsetTop+l.offsetHeight;if(d>=s||o[c+1].offsetTop>s){var h=l.getAttribute("sectionid");a.title=l.getAttribute("sectiontitle");a.current=l.getAttribute("index");a.order=l.getAttribute("sectionorder");a.total=l.getAttribute("sectiontotal");a.sectionId=h;break}}return a};m._$setPage=function(t,e){var i,n=this,s=n.__options,o=$(s.comicPicList);if(e)i=o.find("li[sectionId='"+e+"'][index='"+t+"']")[0];else{var a=n._$getPageInfo();i=o.find("li[sectionId='"+a.sectionId+"'][index='"+t+"']")[0]}if(i){this._$recordPage(t,e||a.sectionId);s.readerWrap.scrollTop=i.offsetTop+1}};m._$recordPage=function(t,e){var i=this,n=i.__options;n._currentPageInfo.sectionId=e;n._currentPageInfo.page=t};m.__isTimeToSendProgress=function(){var t=this,e=t.__options;if(!e.isLogin||window.PG_CONFIG.isBaiduBrowser)return!1;var i=new Date;if(null==t.__lastSendProgressTime){t.__lastSendProgressTime=i;return{shouldSendProgress:!0,timeLag:0}}var n=i.getTime()-t.__lastSendProgressTime.getTime();if(n<5e3)return{timeLag:n,shouldSendProgress:!1};else{t.__lastSendProgressTime=i;return{timeLag:n,shouldSendProgress:!0}}};m.__hitsAndReadActionReport=function(t,e){var i=this,n=i.__options;setTimeout(function(){if(e==n._currentPageInfo.page&&t==n._currentPageInfo.sectionId)i.__cacheComicInstance._$statistic({bookId:n._initSectionInfo.bookId,sectionId:n._currentPageInfo.sectionId})},n.statPageDuration)}},31,2,32,3,162,163,164,13,1,156,1,151,160,12,165);I$(178,function(t,e,i,n,s,o,a,r,_,c){o._$$Draggable=e._$klass();c=o._$$Draggable._$extend(s._$$EventTarget);c.__reset=function(t){this.__super(t);this.__overflow=!!t.overflow;this.__body=i._$get(t.body);this.__mbar=i._$get(t.mbar)||this.__body;this.__view=i._$get(t.view)||i._$getPageBox();this.__direction=parseInt(t.direction)||0;this.__doInitDomEvent([[document,"mouseup",this.__onDragEnd._$bind(this)],[document,"mousemove",this.__onDragging._$bind(this)],[this.__mbar,"mousedown",this.__onDragStart._$bind(this)]])};c.__destroy=function(){this.__super();delete this.__body;delete this.__mbar;delete this.__view};c.__getMaxRange=function(){return{x:this.__view.clientWidth-this.__body.offsetWidth,y:this.__view.clientHeight-this.__body.offsetHeight}};c.__onDragStart=function(t){n._$stop(t);if(!this.__offset){this.__offset={x:n._$pageX(t),y:n._$pageY(t)};this.__maxbox=this.__getMaxRange()}};c.__onDragging=function(t){if(this.__offset){n._$stop(t);var e={x:n._$pageX(t),y:n._$pageY(t)},s=e.x-this.__offset.x,o=e.y-this.__offset.y,a=parseInt(i._$getStyle(this.__body,"top"))||0,r=parseInt(i._$getStyle(this.__body,"left"))||0,_={top:a+o,left:r+s};this.__offset=e;this._$setPosition(_)}};c.__onDragEnd=function(t){if(this.__offset){delete this.__maxbox;delete this.__offset;this._$dispatchEvent("ondragend",this._$getPosition())}};c._$setPosition=function(t){if(!this.__overflow){var e=this.__maxbox||this.__getMaxRange();t.top=Math.min(e.y,Math.max(0,t.top));t.left=Math.min(e.x,Math.max(0,t.left))}t.top=Math.round(t.top);t.left=Math.round(t.left);this._$dispatchEvent("onbeforechange",t);var i=this.__body.style;if(0==this.__direction||2==this.__direction)i.top=t.top+"px";if(0==this.__direction||1==this.__direction)i.left=t.left+"px";this._$dispatchEvent("onchange",t)};c._$getPosition=function(){return{left:parseInt(i._$getStyle(this.__body,"left"),10)||0,top:parseInt(i._$getStyle(this.__body,"top"),10)||0}};o._$$Dragger=o._$$Draggable;if(!0)t.copy(t.P("nej.ut"),o);return o},19,31,2,5,32);I$(176,function(t,e,i,n,s,o){s._$$Dragger=e._$klass();o=s._$$Dragger._$extend(t._$$Dragger);o.__reset=function(t){this.__super(t);this.__overflow=!!t.overflow;this.__body=i._$get(t.body);this.__mbar=i._$get(t.mbar)||this.__body;this.__view=i._$get(t.view)||i._$getPageBox();this.__direction=parseInt(t.direction)||0;this.__doInitDomEvent([[document,"touchend",this.__onDragEnd._$bind(this)],[document,"touchmove",this.__onDragging._$bind(this)],[this.__mbar,"touchstart",this.__onDragStart._$bind(this)]])};o.__onDragStart=function(t){n._$stop(t);if(!this.__offset){var e=t.touches[0];this.__offset={x:e.clientX,y:e.clientY};this.__maxbox=this.__getMaxRange();this._$dispatchEvent("ondragstart")}};o.__onDragging=function(t){if(this.__offset){n._$stop(t);var e=t.touches[0],s={x:e.clientX,y:e.clientY},o=s.x-this.__offset.x,a=s.y-this.__offset.y,r=parseInt(i._$getStyle(this.__body,"top"))||0,_=parseInt(i._$getStyle(this.__body,"left"))||0,c={top:r+a,left:_+o};this.__offset=s;this._$setPosition(c)}};o.__destroy=function(){if(0===this.__direction||2==this.__direction)this.__body.style.top="";if(0===this.__direction||1==this.__direction)this.__body.style.left="";this.__super()};return s},178,31,2,5);I$(177,function(t,e,i,n,s,o,a,r,_,c){var l;a._$$Slider=e._$klass();l=a._$$Slider._$extend(s._$$EventTarget);l.__init=function(){this.__dopt={onchange:this.__onChange._$bind(this),ondragend:this.__onChange._$bind2(this,!0)};this.__super()};l.__reset=function(t){this.__super(t);this.__dopt.view=i._$get(t.track);this.__dopt.body=i._$get(t.thumb)||i._$get(t.slide);this.__dopt.mbar=this.__dopt.view;this.__dopt.direction=parseInt(t.direction)||0;this._$setRange(t.range);this.__doInitDomEvent([[this.__dopt.view,"mousedown",this.__onSlideToPosition._$bind(this)]]);this.__dragger=o._$$Dragger._$allocate(this.__dopt)};l.__destroy=function(){this.__super();this.__dragger._$recycle();delete this.__dragger;delete this.__range;delete this.__dopt.view;delete this.__dopt.body;delete this.__dopt.mbar};l.__onChange=function(t,e){var i=t.left/this.__range.x[1],n=t.top/this.__range.y[1],s=this.__range.x,o=this.__range.y;this._$dispatchEvent("onchange",{stopped:!!e,x:{rate:i,value:i*(s[1]-s[0])},y:{rate:n,value:n*(o[1]-o[0])}})};l.__onSlideToPosition=function(t){var e=i._$offset(this.__dopt.view),s={x:n._$pageX(t),y:n._$pageY(t)},o={x:Math.floor(this.__dopt.body.offsetWidth/2),y:Math.floor(this.__dopt.body.offsetHeight/2)};this.__dragger._$setPosition({top:s.y-e.y-o.y,left:s.x-e.x-o.x})};l._$setRange=function(t){var e;if(this.__range){var i=this.__dragger._$getPosition();e={x:i.left/this.__range.x[1],y:i.top/this.__range.y[1]}}t=t||r;var n=(t.x||c)[1]||this.__dopt.view.clientWidth-this.__dopt.body.offsetWidth,s=(t.y||c)[1]||this.__dopt.view.clientHeight-this.__dopt.body.offsetHeight;this.__range={x:t.x||[0,n],y:t.y||[0,s]};if(e)this._$setPosition(e)};l._$setPosition=function(t){t=t||r;this.__dragger._$setPosition({top:this.__range.y[1]*(t.y||0),left:this.__range.x[1]*(t.x||0)})};if(!0)t.copy(t.P("nej.ut"),a);return a},19,31,2,5,32,178);I$(172,function(t,e,i,n,s,o){s._$$Slider=i._$klass();o=s._$$Slider._$extend(e._$$Slider);o.__reset=function(e){this.__super(e);this.__dragger._$recycle();this.__dragger=t._$$Dragger._$allocate(this.__dopt);this.__progressNode=e.progress;var i=n._$getByClassName(this.__progressNode,"js-flag-progress");this.__progressCurrentNode=i[0];this.__progressTotalNode=i[1];this._$addEvent("onchange",this.__handleChange._$bind(this));this.__realValue=e.realValue||10;this.__occupied=e.occupied};o.__onChange=function(t,e){var i=t.left/this.__range.x[1],n=t.top/this.__range.y[1],s=Math.floor(this.__realValue*i)+1,o=Math.floor(this.__realValue*n)+1,a={
stopped:!!e,x:{rate:i,value:s,v:t.left},y:{rate:n,value:o,v:t.top}};this.__handleChange(a);if(e)this._$dispatchEvent("onchange",a)};o.__getKey=function(){var t;if(0===this.__dopt.direction||2==this.__dopt.direction)t="y";if(0===this.__dopt.direction||1==this.__dopt.direction)t="x";return t};o.__handleChange=function(t){var e=this.__getKey();this.__progressCurrentNode.textContent=t[e].value;this.__progressTotalNode.textContent=this.__realValue+1;var i=Math.ceil(t[e].v)+1;this.__occupied.style["x"==e?"width":"height"]=i+"px"};o._$setRealValue=function(t){this.__realValue=t-1};o.__destroy=function(){if(0===this.__dopt.direction||2==this.__dopt.direction)this.__occupied.style.height="";else this.__occupied.style.width="";this.__occupied=null;this.__progressCurrentNode=null;this.__progressTotalNode=null;this.__super()};return s},176,177,31,2);I$(173,function(t,e){e.toast=t._$$Toast._$allocate({parent:document.body});return e},17);I$(174,'<textarea name="ntp" id="#<seed_toolbar>"> <div class="reader-toolbar">     <button type="button" class="f-fl nav-back js-navback btn btn--round btn--dark btn-back">         <i class="icon icon-mh icon-arrow-left"></i>     </button>      <a href="javascript:void(0);"  data-log="app_download,download_app_menu" class="js-flag f-fr btn btn--round btn--dark btn-download">          <i class="icon icon-mh icon-app"></i>     </a>      <button type="button" class="f-fr js-flag btn btn--round btn--dark fav-btn btn-favor">         <i class="icon icon-mh icon-favorite"></i>     </button>      <div class="reader-toolbar-progress">         <div class="reader-toolbar-progress-content js-flag f-toe">         </div>     </div> </div> </textarea>  <textarea name="ntp" id="#<seed_slider>"> <div class="slider-track">     <div class="slider-occupied js-flag"></div>     <div class="slider-slide js-flag">&nbsp;</div>     <div class="slider-progress js-flag"><span class="js-flag-progress"></span>/<span class="js-flag-progress"></span></div> </div> </textarea> ');I$(97,function(t,e,i,n,s,o,a){var r;n._$$Item=e._$klass();r=n._$$Item._$extend(i._$$Abstract);r.__init=function(){this.__id=this.__genId();this.__super()};r.__reset=function(t){this.__super(t);this.__index=t.index;this.__total=t.total;this.__range=t.range;this._$refresh(t.data)};r.__destroy=function(){this.__super();delete this.__data;delete this.__index;delete this.__total;delete this.__range};r.__doRefresh=o;r.__genId=function(){var t=+new Date;return function(){return"itm-"+ ++t}}();r._$getId=function(){return this.__id};r._$getData=function(){return this.__data};r._$refresh=function(t){this.__data=t||{};this.__doRefresh(this.__data)};if(!0)t.copy(t.P("nej.ui"),n);return n},19,31,36);I$(95,function(t,e,i,n,s,o,a){var r;n._$$ListItem=e._$klass();r=n._$$ListItem._$extend(i._$$Item);r.__reset=function(t){this.__pkey=t.pkey||"id";this.__prefix=t.prefix||"";this.__super(t)};r.__onDelete=function(t){this._$dispatchEvent("ondelete",{ext:t,id:this._$getId(),data:this._$getData(),body:this._$getBody()})};r.__onUpdate=function(t){this._$dispatchEvent("onupdate",{ext:t,id:this._$getId(),data:this._$getData(),body:this._$getBody()})};r._$refresh=function(t){this.__super(t);var e=this.__data[this.__pkey];this.__id=this.__prefix+e||this.__genId()};if(!0)t.copy(t.P("nej.ui"),n);return n},19,31,97);I$(100,".#<uispace>{font-size:12px;line-height:160%;} .#<uispace> a{margin:0 2px;padding:2px 8px;color:#333;border:1px solid #aaa;text-decoration:none;} .#<uispace> .js-disabled{cursor:default;} .#<uispace> .js-selected{cursor:default;background-color:#bbb;}");I$(98,function(t,e,i,n,s,o,a,r,_,c,l){var d;r._$$AbstractPager=e._$klass();d=r._$$AbstractPager._$extend(s._$$Abstract);d.__reset=function(t){this.__bopt=n._$merge({},t);this.__popt=n._$merge({},t);delete this.__bopt.onchange;this.__popt.onchange=this.__onChange._$bind(this);this.__super(t);this.__doResetNumber(t)};d.__destroy=function(){if(this.__page){this.__page._$recycle();delete this.__page}this.__super();delete this.__bopt;delete this.__popt;this._$unbind();this.__body.innerHTML="&nbsp;"};d.__initXGui=function(){var t=i._$pushCSSText(a);return function(){this.__seed_css=t}}();d.__doResetNumber=function(t){var e=t.label||_;if(!t.noprv){this.__popt.pbtn=i._$create("a","zbtn zprv",this.__body);this.__popt.pbtn.innerHTML=e.prev||"上一页"}for(var n=[],s=1,o=t.number;s<=o;s++)n.push(i._$create("a","zpgi zpg"+s,this.__body));this.__popt.list=n;if(!t.nonxt){this.__popt.nbtn=i._$create("a","zbtn znxt",this.__body);this.__popt.nbtn.innerHTML=e.next||"下一页"}};d.__onChange=function(t){if(!this.__flag){var e=t.index,i=t.total;this.__flag=!0;this._$updatePage(e,i);n._$forEach(this.__binders,function(t){t._$updatePage(e,i)});this.__flag=!1;this._$dispatchEvent("onchange",t)}};d._$bind=function(t){t=i._$get(t);if(t){var e=n._$merge({},this.__bopt);e.parent=t;e.index=this._$getIndex();e.total=this._$getTotal();var s=this.constructor._$allocate(e);s._$setEvent("onchange",this.__popt.onchange);if(!this.__binders)this.__binders=[];this.__binders.push(s)}};d._$unbind=function(){var t=function(t,e,i){t._$recycle();i.splice(e,1)};return function(){n._$reverseEach(this.__binders,t)}}();d._$setIndex=function(t){if(this.__page)this.__page._$setIndex(t)};d._$getIndex=function(){if(!this.__page)return 1;else return this.__page._$getIndex()};d._$getTotal=function(){if(!this.__page)return 1;else return this.__page._$getTotal()};d._$updatePage=function(t,e){if(this.__page)this.__page._$updatePage(t,e)};d._$updateTotal=function(t){if(this.__page)this.__page._$updateTotal(t)};if(!0)t.copy(t.P("nej.ui"),r);return r},19,31,2,3,36,40,100);I$(101,function(t,e,i,n,s,o,a,r,_,c){var l;a._$$PageAbstract=e._$klass();l=a._$$PageAbstract._$extend(o._$$EventTarget);l.__reset=function(t){this.__super(t);this.__pbtn=t.pbtn;this.__nbtn=t.nbtn;this.__sbtn=t.sbtn;this.__ebtn=t.ebtn;this.__name=t.event||"click";this.__parented=!!t.parented;this.__selected=t.selected||"js-selected";this.__disabled=t.disabled||"js-disabled";this.__doPageListCheck(t.list);this.__limit=t.limit||1/0;this._$updatePage(t.index||1,t.total||1)};l.__destroy=function(){this.__super();delete this.__list;delete this.__name;delete this.__pbtn;delete this.__nbtn;delete this.__sbtn;delete this.__ebtn;delete this.__last;delete this.__total;delete this.__index;delete this.__extdata;delete this.__selected;delete this.__disabled};l.__getSelectNode=function(t){return!this.__parented?t:t.parentNode};l.__doPageListCheck=function(){var t=function(t){this.__list.push(t);this.__doInitDomEvent([[t,this.__name,this.__onClick._$bind2(this,0)]])};return function(e){this.__list=[];this.__doInitDomEvent([[this.__pbtn,"click",this.__onClick._$bind2(this,-1)],[this.__nbtn,"click",this.__onClick._$bind2(this,1)],[this.__sbtn,"click",this.__onClick._$bind2(this,-2)],[this.__ebtn,"click",this.__onClick._$bind2(this,2)]]);i._$forEach(e,t,this)}}();l.__doSetNodeIndex=function(t,e){var i=this.__getSelectNode(t);if(null==e){t.innerText="";n._$setStyle(t,"display","none");n._$delClassName(i,this.__selected)}else{t.innerText=e;n._$setStyle(t,"display","");e==this.__index?n._$addClassName(i,this.__selected):n._$delClassName(i,this.__selected)}};l.__doSyncBtnState=function(){if(this.__index<=1){n._$addClassName(this.__pbtn,this.__disabled);n._$addClassName(this.__sbtn,this.__disabled)}else{n._$delClassName(this.__pbtn,this.__disabled);n._$delClassName(this.__sbtn,this.__disabled)}if(this.__index>=this.__total){n._$addClassName(this.__nbtn,this.__disabled);n._$addClassName(this.__ebtn,this.__disabled)}else{n._$delClassName(this.__nbtn,this.__disabled);n._$delClassName(this.__ebtn,this.__disabled)}};l.__doRefreshPage=_;l.__doChangeIndex=function(){this.__doRefreshPage();this.__doSyncBtnState();this._$dispatchEvent("onchange",{last:this.__last,total:this.__total,index:this.__index,ext:this.__extdata})};l.__doSaveIndex=function(t){t=parseInt(t);if(isNaN(t)||null==this.__total)return!1;t=Math.max(1,Math.min(t,this.__total));this.__last=this.__index;this.__index=t;return!0};l.__doSaveTotal=function(t){t=parseInt(t);if(isNaN(t)||t<1)return!1;this.__total=Math.min(t,this.__limit);return!0};l.__onClick=function(t,e){s._$stopDefault(t);var i=s._$getElement(t),o=n._$hasClassName(this.__getSelectNode(i),this.__selected),a=n._$hasClassName(i,this.__disabled);if(i&&!o&&!a){var r=i.innerText;switch(e){case 1:case-1:r=this.__index+e;break;case 2:r=this.__total;break;case-2:r=1}this._$setIndex(r)}};l._$getIndex=function(){return this.__index};l._$setIndex=function(t){var e=this.__index;this.__doSaveIndex(t);if(e!=this.__index)this.__doChangeIndex()};l._$getTotal=function(){return this.__total};l._$setTotal=function(t){if(this.__doSaveTotal(t)&&null!=this.__index){this.__index=1;this.__doChangeIndex()}};l._$updateTotal=function(t){if(this.__doSaveTotal(t)){this.__doRefreshPage();this.__doSyncBtnState()}};l._$updatePage=function(t,e){if(this.__doSaveTotal(e)&&this.__doSaveIndex(t))this.__doChangeIndex()};if(!0)t.P("nej.ut")._$$AbstractPage=a._$$PageAbstract;return a},19,31,3,2,5,32);I$(99,function(t,e,i,n,s,o,a,r,_){var c;o._$$PageFragment=e._$klass();c=o._$$PageFragment._$extend(s._$$PageAbstract);c.__init=function(){this.__ndot=[];this.__super()};c.__destroy=function(){this.__super();this.__doRecycleDotNode()};c.__doRecycleDotNode=function(){var t=function(t,e,n){i._$remove(t);n.splice(e,1)};return function(){n._$reverseEach(this.__ndot,t)}}();c.__doRefreshPage=function(){this.__extdata={last:!1,first:!1,list:this.__list};this.__doRecycleDotNode();this.__doSetNodeIndex(this.__list[0],1);var t=1,e=this.__list.length;if(!(this.__total<e)){if(this.__index>1){var n=Math.floor((e-2)/2),s=this.__total-e+2,o=Math.max(2,this.__index-n);if(this.__total>=e)o=Math.min(o,s);if(o>2){var a=i._$create("span","zdot");this.__ndot.push(a);a.innerText="...";this.__list[0].insertAdjacentElement("afterEnd",a);this.__extdata.first=!0}for(var r;;t++){r=o+t-1;if(r>this.__index)break;this.__doSetNodeIndex(this.__list[t],r)}}if(this.__index<this.__total){for(var r,o=this.__index+1,_=0,c=e-2;;_++,
t++){r=o+_;if(t>c||r>this.__total)break;this.__doSetNodeIndex(this.__list[t],r)}if(r<this.__total){var a=i._$create("span","zdot");this.__ndot.push(a);a.innerText="...";this.__list[t].insertAdjacentElement("beforeBegin",a);this.__extdata.last=!0}if(r<=this.__total)this.__doSetNodeIndex(this.__list[t++],this.__total)}for(;t<e;t++)this.__doSetNodeIndex(this.__list[t])}else for(var l;t<e;t++){l=t+1;this.__doSetNodeIndex(this.__list[t],l>this.__total?null:l)}};if(!0)t.P("nej.ut")._$$Page=o._$$PageFragment;return o},19,31,2,3,101);I$(96,function(t,e,i,n,s,o,a,r,_){var c;o._$$Pager=e._$klass();c=o._$$Pager._$extend(n._$$AbstractPager);c.__reset=function(t){t.number=parseInt(t.number)||9;this.__super(t);this.__page=s._$$PageFragment._$allocate(this.__popt)};c.__onChange=function(t){if(this.__bopt.noend){var e=t.ext||a,n=e.list||_;if(e.last)i._$setStyle(n[n.length-1],"display","none")}this.__super(t)};if(!0)t.copy(t.P("nej.ui"),o);return o},19,31,2,98,99);I$(94,function(t,e,i,n,s,o,a,r,_,c,l,d,h,u,f){var p;d._$$ListModule=e._$klass();p=d._$$ListModule._$extend(r._$$EventTarget);p.__reset=function(t){this.__ropt={};this.__super(t);this.__lbox=s._$get(t.parent);this.__iopt={parent:this.__lbox};this.__limit=parseInt(t.limit)||10;this.__first=parseInt(t.first)||this.__limit;this.__doResetTemplate(t.item);this.__doResetCache(t.cache||h);this.__doResetPager(t.pager||h);this._$refresh()};p.__destroy=function(){this._$dispatchEvent("onbeforerecycle");this.__doClearListBox();this.__super();if(this.__ropt.clear)this.__cache._$clearListInCache(this.__ropt.key);this.__cache._$recycle();if(this.__pager){this.__pager._$recycle();delete this.__pager}delete this.__pkls;delete this.__popt;delete this.__pulling;delete this.__cache;delete this.__lbox;delete this.__ikls;delete this.__iopt;delete this.__iext;delete this.__ropt};p.__getItemBodyId=function(t){return this.__getItemId(t)+_._$seed()};p.__getItemId=function(t){var e=(this.__iopt||h).prefix||"";return e+t};p.__getPageInfo=function(t,e,i,n){var s={index:1,total:1};if(e>=t)s.index=Math.floor((e-t)/i)+2;if(n>t)s.total=Math.ceil((n-t)/i)+1;return s};p.__doResetJSTTemplate=function(t){delete this.__ikls;this.__ikey=t;this.__doInitDomEvent([[this.__lbox,"click",this.__onCheckAction._$bind(this)]])};p.__doResetTemplate=function(t){if(!i._$isString(t)){i._$merge(this.__iopt,t);this.__iext=i._$merge({},t,function(t){return!i._$isFunction(t)});var e=this.__iopt.klass;delete this.__iopt.klass;if(!i._$isString(e)){delete this.__ikey;this.__ikls=e;this.__iopt.ondelete=this._$dispatchEvent._$bind(this,"ondelete");this.__iopt.onupdate=this._$dispatchEvent._$bind(this,"onupdate")}else this.__doResetJSTTemplate(e)}else this.__doResetJSTTemplate(t)};p.__doResetCache=function(t){var e=t.klass,n=i._$merge({},t);this.__ropt.key=n.lkey;this.__ropt.ext=n.ext;this.__ropt.data=n.data||{};this.__ropt.clear=!!n.clear;this.__iopt.pkey=n.key||"id";n.onerror=this._$dispatchEvent._$bind(this,"onerror");n.onlistload=this.__cbListLoad._$bind(this);n.onpullrefresh=this.__cbPullRefresh._$bind(this);if(e&&"onlistchange"in e)this.__doInitDomEvent([[e,"listchange",this.__cbListChange._$bind(this)]]);else{n.onitemadd=this.__cbItemAdd._$bind(this);n.onitemdelete=this.__cbItemDelete._$bind(this);n.onitemupdate=this.__cbItemUpdate._$bind(this)}this.__cache=(e||l._$$CacheList)._$allocate(n);if(null!=t.total)this.__cache._$setTotal(this.__ropt.key,t.total);if(t.list)this.__cache._$setListInCache(this.__ropt.key,t.list)};p.__doResetPager=function(t){this.__pkls=t.klass||a._$$Pager;this.__popt=i._$merge({},t);if(i._$isArray(t.parent)){this.__popt.parent=t.parent[0];this.__pbid=t.parent.slice(1);if(!this.__pbid||!this.__pbid.length)delete this.__pbid}delete this.__popt.klass};p.__doClearListBox=function(){var t=/^(?:table|tr|tbody|ul|ol|select)$/i;return function(){this._$dispatchEvent("onbeforelistclear",{parent:this.__lbox});if(this.__items&&this.__items.length>0){this.__items=this.__ikls._$recycle(this.__items);delete this.__items}if(t.test(this.__lbox.tagName))s._$clearChildren(this.__lbox);else this.__lbox.innerHTML=""}}();p.__doSwitchPagerShow=function(t){if(!this.__popt.fixed){s._$setStyle(this.__popt.parent,"display",t);i._$forEach(this.__pbid,function(e){s._$setStyle(e,"display",t)},this)}};p.__doRefreshByPager=function(){var t=this.__popt.index||1;delete this.__popt.index;if(this.__pager)t=this.__pager._$getIndex();this.__doChangePage({last:t,index:t})};p.__doChangePage=function(t){this._$dispatchEvent("onpagechange",t)};p.__doChangeOffset=function(t){this.__ropt.offset=t;this.__doLoadList()};p.__doGenRequestOpt=function(t){return t};p.__doLoadList=function(){this.__doBeforeListLoad();var t=this.__ropt.data;t.offset=this.__ropt.offset;var e=0==t.offset;t.total=e;this.__ropt.limit=e?this.__first:this.__limit;t.limit=this.__ropt.limit;this.__cache._$getList(this.__doGenRequestOpt(i._$merge({},this.__ropt)))};p.__cbListLoad=function(t){if(t.key==this.__ropt.key&&t.offset==this.__ropt.offset){this.__doBeforeListShow();var e=this.__cache._$getListInCache(t.key);if(!e||!e.length){if(!this._$cache()._$isLoaded(t.key))this._$dispatchEvent("onlistloaderror",{parent:this.__lbox});else this.__doShowEmpty();return!0}var i=t.limit,n=t.offset;if(!this.__cache._$isFragmentFilled(t.key,n,i)){this._$dispatchEvent("onlistloaderror",{parent:this.__lbox});return!0}if(!this.__doBeforeListRender(e,n,i)){this._$dispatchEvent("onbeforelistrender",{list:e,limit:i,offset:n,parent:this.__lbox,total:this.__cache._$getTotal(t.key)});if(this.__ikey){this.__iopt.xlist=e;this.__iopt.beg=n;this.__iopt.end=Math.min(e.length,n+i)-1;this.__iopt.act="list";var s=_._$get(this.__ikey,this.__iopt,this.__iext);this.__doShowListByJST(s)}else{this.__iopt.limit=i;this.__iopt.offset=n;var o=c._$getItemTemplate(e,this.__ikls,this.__iopt);this.__doShowListByItem(o)}this._$dispatchEvent("onafterlistrender",{list:e,limit:i,offset:n,parent:this.__lbox,total:this.__cache._$getTotal(t.key)})}}};p.__cbPullRefresh=function(t){if(this.__pulling){delete this.__pulling;this.__doBeforeListShow("onafterpullrefresh");this._$refresh()}};p.__doSyncPager=function(t,e){if(this.__pager){if((this.__popt||h).limit>0)e=Math.min(e,this.__popt.limit);var n=this.__pager._$getIndex(),s=this.__pager._$getTotal();if(n>e||e!=s){this.__pager._$recycle();delete this.__pager;this.__doChangePage({last:n,index:Math.min(t,e)});return!0}}else{this.__popt.index=t;this.__popt.total=e;this.__pager=this.__pkls._$allocate(this.__popt);this.__pager._$setEvent("onchange",this.__doChangePage._$bind(this));i._$forEach(this.__pbid,function(t){this.__pager._$bind(t)},this)}};p.__doFormatData=function(){var t=+new Date;return function(e){var i=e[this.__iopt.pkey];if(!i){e["dirty-data"]=!0;e[this.__iopt.pkey]="dirty-"+t++}return e}}();p.__doSplitDirty=function(t){var e=t[this.__iopt.pkey];if(t["dirty-data"]){delete t["dirty-data"];delete t[this.__iopt.pkey]}return e};p.__doInsertOneItem=function(){var t=function(t,e){this.__lbox.insertAdjacentElement(t,e)};return function(e,i){var n=[i];if(this.__ikey){this.__iopt.xlist=n;this.__iopt.beg=0;this.__iopt.end=0;this.__iopt.act="add";this.__doShowListByJST(_._$get(this.__ikey,this.__iopt,this.__iext),e)}else{this.__iopt.limit=1;this.__iopt.offset=0;this.__iopt.parent=t._$bind(this,e);var s=c._$getItemTemplate(n,this.__ikls,this.__iopt);this.__iopt.parent=this.__lbox;this.__doShowListByItem(s)}}}();p.__doBeforeListLoad=u;p.__doBeforeListShow=function(t){var e={parent:this.__lbox};this._$dispatchEvent(t||"onafterlistload",e);if(!e.stopped)s._$removeByEC(this.__ntip)};p.__doBeforeListRender=u;p.__doRenderMessage=function(t,e){if(i._$isString(t)){if(!this.__ntip)this.__ntip=s._$create("div");this.__ntip.innerHTML=t}else this.__ntip=t;this.__lbox.insertAdjacentElement(e||"beforeEnd",this.__ntip)};p.__doShowMessage=function(t,e,i){var n={parent:this.__lbox};if(t)this._$dispatchEvent(t,n);if(!n.stopped)this.__doRenderMessage(n.value||e,i)};p.__doShowEmpty=u;p.__doShowListByJST=u;p.__doShowListByItem=u;p.__onCheckAction=function(){var t=/^(?:delete|update)$/;return function(e){var i=n._$getElement(e,"d:action");if(i){var o=s._$dataset(i,"action");if(t.test(o)){var a=s._$dataset(i,"id");if(a){var r=this.__cache._$getItemInCache(a);if(r){n._$stop(e);this._$dispatchEvent("on"+o,{data:r,id:r[this.__iopt.pkey],body:s._$get(this.__getItemBodyId(a))})}}}}}}();p.__cbItemAdd=u;p.__doDeleteItem=function(t){var e=t.data||{},i={data:e,key:this.__ropt.key,id:e[this.__iopt.pkey]};this._$dispatchEvent("onbeforedelete",i);this.__cache._$deleteItem(i)};p.__cbItemDelete=u;p.__doUpdateItem=function(t){var e=t.data||{},i={data:e,key:this.__ropt.key};this._$dispatchEvent("onbeforeupdate",i);this.__cache._$updateItem(i)};p.__cbItemUpdate=function(t){this.__doCheckResult(t,"onafterupdate");if(!t.stopped){var e=t.data[this.__iopt.pkey];if(this.__items){var n=c._$getItemById(this.__getItemId(e));if(n)n._$refresh(t.data)}else{var o=this._$getItemBody(e);if(!o)return;var a=this.__cache._$getListInCache(t.key),r=i._$indexOf(a,t.data);if(r<0)return;this.__iopt.xlist=a;this.__iopt.beg=r;this.__iopt.end=r;this.__iopt.act="update";var l=_._$get(this.__ikey,this.__iopt,this.__iext);o.insertAdjacentHTML("afterEnd",l);s._$remove(o)}this._$dispatchEvent("onafterupdaterender",{data:t.data,parent:this.__lbox})}};p.__doCheckResult=function(t,e){var i=t.data;if(!i||null==i[this.__iopt.pkey]){this._$dispatchEvent("onerror",t);t.stopped=!0}if(!t.stopped)this._$dispatchEvent(e,t)};p.__cbAppendList=u;p.__cbUnshiftList=u;p.__cbListChange=function(t){if(t.key==this.__ropt.key)switch(t.action){case"add":this.__cbItemAdd(t);break;case"delete":this.__cbItemDelete(t);break;case"update":this.__cbItemUpdate(t);break;case"refresh":this._$refresh();break;case"unshift":this.__cbUnshiftList(t.offset,t.limit);break;case"append":this.__cbAppendList(t.offset,t.limit)}};p._$update=function(t){this.__doUpdateItem({data:t})};p._$delete=function(t){this.__doDeleteItem({data:t})};p._$add=function(t){this.__cache._$addItem({data:t,key:this.__ropt.key
})};p._$cache=function(){return this.__cache};p._$unshift=function(t){this.__doInsertOneItem("afterBegin",this.__doFormatData(t));return this.__doSplitDirty(t)};p._$append=function(t){this.__doInsertOneItem("beforeEnd",this.__doFormatData(t));return this.__doSplitDirty(t)};p._$refresh=function(){this.__doClearListBox();this.__doRefreshByPager()};p._$refreshWithClear=function(){this.__cache._$clearListInCache(this.__ropt.key);this._$refresh()};p._$pullRefresh=function(){if(!this.__pulling){this.__pulling=!0;this.__doShowMessage("onbeforepullrefresh","列表刷新中...","afterBegin");this.__cache._$pullRefresh({key:this.__ropt.key,data:this.__ropt.data})}};p._$getTotal=function(){return this.__cache._$getTotal(this.__ropt.key)};p._$getPager=function(){return this.__pager};p._$items=function(){return this.__items};p._$getItemBody=function(t){if(this.__ikey)return s._$get(this.__getItemBodyId(t));else{var e=c._$getItemById(this.__getItemId(t));if(e)return e._$getBody()}};p._$isLoaded=function(){return this.__cache._$isLoaded(this.__ropt.key)};p._$showMessage=function(t){this.__doClearListBox();this.__doShowMessage(null,t)};if(!0)t.copy(t.P("nej.ut"),d);return d},19,31,3,5,2,95,96,32,40,37,80);I$(93,function(t,e,i,n,s,o,a,r,_,c,l){var d;r._$$ListModuleWF=e._$klass();d=r._$$ListModuleWF._$extend(a._$$ListModule);d.__reset=function(t){this.__doResetMoreBtn(t.more);this.__sbody=n._$get(t.sbody);this.__doInitDomEvent([[this.__sbody,"scroll",this.__onCheckScroll._$bind(this)]]);var e=t.delta;if(null==e)e=30;this.__delta=Math.max(0,e);var i=parseInt(t.count)||0;this.__count=Math.max(0,i);var s=parseInt(t.number)||0;if(s>1&&s<=i)this.__number=s;this.__super(t)};d.__destroy=function(){this.__super();delete this.__nmore;delete this.__sbody;delete this.__endskr;delete this.__nexting};d.__getPageInfo=function(t,e){var i=this.__first+(this.__count-1)*this.__limit,n=this.__count*this.__limit;return this.__super(i,t,n,e)};d.__doResetMoreBtn=function(t){this.__nmore=n._$get(t);this.__doInitDomEvent([[this.__nmore,"click",this._$next._$bind(this)]])};d.__doCheckScroll=function(t){if(!this.__endskr&&t&&this.__lbox.clientHeight){if(!t.scrollHeight)t=n._$getPageBox();var e=n._$offset(this.__lbox,this.__sbody),i=e.y+this.__lbox.offsetHeight-t.scrollTop-t.clientHeight,s=t.scrollHeight<=t.clientHeight;if(i<=this.__delta||s&&!this.__endskr)window.setTimeout(this._$next._$bind(this),0)}};d.__onCheckScroll=function(t){if(!this.__endskr){var e=i._$getElement(t);if(!e)e=n._$getPageBox();this.__doCheckScroll(e)}};d.__doChangePage=function(t){this.__super(t);if(!t.stopped){this.__doClearListBox();var e=0;if(t.index>1)e=this.__first+((t.index-1)*this.__count-1)*this.__limit;this.__offset=e;this._$next()}};d.__doGenRequestOpt=function(t){if(this.__number){var e=t.offset>0?this.__limit:this.__first,i=e+this.__limit*(this.__number-1);this.__offset=t.offset+i;t.data.limit=i;t.limit=i;delete this.__number}return t};d.__cbListLoad=function(t){delete this.__nexting;if(!this.__super(t))this._$resize()};d.__cbListChange=function(t){if(t.key==this.__ropt.key){switch(t.action){case"refresh":case"append":delete this.__nexting}this.__super(t)}};d.__doBeforeListLoad=function(){this.__doShowMessage("onbeforelistload","列表加载中...");n._$setStyle(this.__nmore,"display","none")};d.__doBeforeListRender=function(t,e,i){var s=t.length,o=t.loaded?e+i>=s:e+i>s;this.__offset=Math.min(this.__offset,s);n._$setStyle(this.__nmore,"display",o?"none":"");if(o)this.__endskr=!0;if(this.__count>0){var a=this.__getPageInfo(e,t.length);if(this.__doSyncPager(a.index,a.total))return!0;var r=this.__first-this.__limit,_=this.__count*this.__limit;this.__endskr=(e+i-r)%_==0||o;n._$setStyle(this.__nmore,"display",this.__endskr?"none":"");this.__doSwitchPagerShow(this.__endskr&&a.total>1?"":"none")}};d.__doShowEmpty=function(){this.__offset=0;this.__endskr=!0;this.__doShowMessage("onemptylist","没有列表数据！")};d.__doShowListByJST=function(t,e){this.__lbox.insertAdjacentHTML(e||"beforeEnd",t)};d.__doShowListByItem=function(t){this.__items=this.__items||[];if(s._$isArray(t))l.push.apply(this.__items,t);else this.__items.push(t)};d.__cbItemAdd=function(t){n._$removeByEC(this.__ntip);this.__doCheckResult(t,"onafteradd");var e=t.flag;if(!t.stopped&&e)if(!(this.__count>0)){this.__offset+=1;e==-1?this._$unshift(t.data):this._$append(t.data)}else this.__doRefreshByPager()};d.__cbItemDelete=function(t){this.__doCheckResult(t,"onafterdelete");if(!t.stopped)if(!(this.__count>0)){var e=t.data[this.__iopt.pkey];if(this.__items){var i=o._$getItemById(this.__getItemId(e)),a=s._$indexOf(this.__items,i);if(a>=0){this.__items.splice(a,1);this.__offset-=1}if(i)i._$recycle()}else{var r=this._$getItemBody(e);if(r)this.__offset-=1;n._$remove(r)}if(this.__offset<=0)this._$next()}else this.__doRefreshByPager()};d.__cbAppendList=function(t,e){if(t==this.__offset)if(this._$isLoaded()){this.__endskr=!1;this._$resize()}};d.__cbUnshiftList=function(t,e){if(0==t)for(var i=this.__cache._$getListInCache(this.__ropt.key),n=e-1;n>=0;n--)this._$unshift(i[n])};d._$resize=function(){var t=this.__sbody;if(t&&!this.__endskr)this.__doCheckScroll(this.__sbody)};d._$refresh=function(){delete this.__endskr;this.__super()};d._$next=function(){if(!this.__nexting){this.__nexting=!0;var t=this.__offset;this.__offset+=0==t?this.__first:this.__limit;this.__doChangeOffset(t)}};if(!0)t.copy(t.P("nej.ut"),r);return r},19,31,5,2,3,37,94);I$(179,'<div class="j-flag m-reader-catalog f-cb">     <div class="reader-catalog-mask"></div>     <div class="catalog-list-block">         <div class="j-flag catalog-list f-cb"></div>     </div>     <div class="catalog-action f-tac">         <span class="f-ib vertical-assist"></span><a class="j-flag f-ib reader-catalog-btn" href="javascript:void(0);"><span>关闭</span><i class="sprite sprite-app-close-square"></i></a>     </div>  </div>   <textarea name="jst" id="j-seed-catalog" style="display: none;">  {list beg..end as y} {var x = xlist[y]} {if doesNeedRenderVolumeTitle(y)} <h2 class="catalog-section-title f-toe">${getVolumeTitleWithOffset(y)|escape}</h2> {/if} <a {if isCurrent(x.sectionId)}id="j-current-catalog-item"{/if} class="m-reader-catalog-item f-fl {if isCurrent(x.sectionId)}active{/if}" href="/reader/${x.bookId}/${x.sectionId}${getSectionHrefQuery()}">     <div class="catalog-item-content f-pr">         <div class="f-toe">${x.titleOrder|default:" "|escape}</div>         {if x.needPay == 1 && !x.paied}<i class="icon icon-mh icon-lock-open"></i>{/if}     </div> </a> {/list} </textarea>');I$(180,function(t,e,i,n,s){s._$$CacheListCatalog=t._$klass();var o=s._$$CacheListCatalog._$extend(n._$$CacheListAbstract);o.__init=function(t){this.__kCache={};this.__super(t)};o.__doLoadList=function(t){var e=t.key,n=t.data,s=(t.offset,t.limit,t.rkey,t.onload);if(!this.__kCache[e])i._$request("/book/catalog/"+n.bookId+".json",{type:"json",method:"GET",onload:function(t){var i=t.catalog.sections;this.__kCache[e]=i;this._$setLoaded(e);s(this.__generateList(i))}._$bind(this),onerror:function(t){}});else{var o=this.__kCache[e];if(n.reverse)o=this.__reverse(o);o=this.__generateList(o);setTimeout(function(){this._$setLoaded(e);s(o)}._$bind(this),20)}};o.__generateList=function(t){var i=[];if(0===t.length)return i;this._$hasSections=t.length>1;this.__offsetMap={};var n=0;e._$forEach(t,function(t,e){i=i.concat(t.sections);if("0"!=t.sectionId)this.__offsetMap[n]=t.title;n+=t.sections.length},this);return i};o.__reverse=function(t){t.reverse();e._$forEach(t,function(t,e){t.sections.reverse()});return t};o._$getOffsetMap=function(){return this._$hasSections?this.__offsetMap:{}}},31,3,14,79);I$(175,function(t,e,i,n,s,o,a,r,_,c,l,d){d._$$Catalog=t._$klass();var h=d._$$Catalog._$extend(e._$$Abstract);h.__initXGui=function(){var t=s._$addNodeTemplate(_);return function(){this.__seed_html=t}}();h.__reset=function(t){this.__super(t);this._$hide();this.__id=t.bookId;this.__bookProgressSectionId=t.bookProgressSectionId;this.__seed_catalog=o._$add("j-seed-catalog",!0);this.__getNode();this.__addEvent()};h.__getNode=function(){var t=i._$getByClassName(this.__body,"j-flag"),e=0;this.__catalogNode=t[e++];this.__listContainer=t[e++];this.__closeNode=t[e++]};h.__addEvent=function(){this.__doInitDomEvent([[this.__closeNode,"click",this.__onCloseNodeClick._$bind(this)]])};h.__onCloseNodeClick=function(t){this._$hide1()};h._$render=function(t){this._$show1();var e=this;if(this.__list){this.__list._$recycle();this.__list=null}var n=1;this.__list=a._$$ListModuleWF._$allocate({limit:999999,parent:this.__listContainer,item:{klass:e.__seed_catalog,getVolumeTitleWithOffset:function(t){return e.__list._$cache()._$getOffsetMap()[t]},doesNeedRenderVolumeTitle:function(t){return e.__list._$cache()._$hasSections&&e.__list._$cache()._$getOffsetMap()[t]},isCurrent:function(e){return t.bookProgressSectionId===e},getSectionHrefQuery:function(){var t=c.parseQuery();if("string"==typeof t.cooperate)return"?cooperate="+encodeURIComponent(t.cooperate);else return""}},cache:{lkey:"reader-catalog-list",key:"sectionId",data:{bookId:t.bookId},klass:l._$$CacheListCatalog,clear:!0},sbody:document,onbeforelistload:function(t){t.value='<div class="loading"><img src="/images/reader/loading.gif"></div>'},onemptylist:function(t){t.value='<div class="nodata"><i class="icon sprite-face-angry"></i><div class="plain-text">啊咧...该漫画目录为空唉</div></div>'},onafterlistrender:function(t){if(1==n){n++;var e=i._$get("j-current-catalog-item");if(e&&t.parent.parentNode){var s=e.offsetTop;if(s>50)t.parent.parentNode.scrollTop=s-50}}}})};h.__destroy=function(){this.__super()};h._$show1=function(){this._$show();i._$get("j-reader-wrap").style.overflow="hidden";i._$addClassName(this.__catalogNode,"catalog-move-top")};h._$hide1=function(){i._$get("j-reader-wrap").style.overflow="scroll";this._$hide()};return d},31,36,2,32,37,40,93,5,179,13,180);I$(154,function(t,e,i,n,s,o,a,r,_,c,l,d,h,u){u._$$ReaderToolbar=t._$klass();var f=u._$$ReaderToolbar._$extend(e._$$Abstract),p=s._$parseUITemplate(_),g=p["seed_toolbar"],m=p["seed_slider"];
f.__initXGui=function(){this.__seed_html=g};f.__reset=function(t){this.__super(t);this.__id=t.bookId;this.sectionId=t.sectionId;this.__refreshUi(t);this.__opts=t;this.__getNode();this.__addEvent();var e=this;this.__favNode.setAttribute("data-log","reader,add_favorite_click,"+e.__id);var i=function(t){r.toast._$toastShow({tipContent:t,delay:3e3})};if(window.PG_CONFIG.isSogou)i=function(t){d._$alert(t)};this.__comicCache=o._$$CacheComic._$allocate({ondataload:function(t){if("favorite"==t.type){var n=this.__getDataInCache(t.key);e.__refreshFavorite(n.subscribed);var s="已加入我的收藏 ( ^ω^ )";if(window.PG_CONFIG.isSogou)s="收藏成功，请到首页-漫画里查看";i(n.subscribed?s:"已取消收藏")}}});this.__comicCache.__setDataInCache(this.__id,t.data);var n=this.__sliderNode=s._$getNodeTemplate(m);t.parent.appendChild(n);this.__orientation=a.simpleOrientation();this._$hide1();this.__visible=!1};f.__destroy=function(){this.__comicCache._$recycle();this.__slider._$recycle();this.__titleNode=null;this.__favNode=null;this.__sliderNode=null;this.__super()};f.__addEvent=function(){this.__doInitDomEvent([[this.__downloadNode,"click",this.__onDownloadNodeClick._$bind(this)],[this.__favNode,"click",this.__onFavNodeClick._$bind(this)],[this.__titleNode,"click",this.__onTitleNodeClick._$bind(this)]]);if(a.supportsOrientationChange)this.__doInitDomEvent([[window,a.orientationEvent,this.__onWindowOrientationChange._$bind(this)]]);else this.__doInitDomEvent([[window,"resize",this.__onWindowOrientationChange._$bind(this)]])};f.__getNode=function(){var t=i._$getByClassName(this.__body,"js-flag"),e=0;this.__downloadNode=t[e++];this.__favNode=t[e++];this.__titleNode=t[e++]};f.__onWindowOrientationChange=function(t){this.__orientation=a.simpleOrientation();if(this.__visible){this.__setupSlider();this.__slider._$setRealValue(parseInt(this.__data.total,10));this._$updateProgress(this.__data)}};f.__setupSlider=function(){if(this.__slider)this.__slider._$recycle();var t=i._$getByClassName(this.__sliderNode,"js-flag"),e=t[0],s=t[1],o=t[2];this.__sliderNode.offsetWidth;if("landscape"==this.__orientation){var a=i._$getPageBox();this.__sliderNode.style.width=Math.max(a.clientWidth,a.clientHeight)-78-40+"px";this.__sliderNode.style.height="3px"}else{this.__sliderNode.style.width="3px";this.__sliderNode.style.height="260px"}var r={track:this.__sliderNode,occupied:e,slide:s,progress:o,direction:"landscape"==this.__orientation?1:2,onchange:function(t){var e="landscape"==this.__orientation?"x":"y",i=t[e].value;c._$capture("reader,progress_drag,"+this.__id);this.__data.current=i;this._$dispatchEvent("onProgressChange",{value:i})}._$bind(this)};this.__slider=n._$$Slider._$allocate(r);this.__sliderOrientation=this.__orientation};f.__onPatternSwitchNodeClick=function(){this.__isFlipPattern=!1;var t={stopped:!1,isFlipPattern:this.__isFlipPattern};this._$dispatchEvent("onPatternSwitch",t);if(!t.stopped){this.__isFlipPattern=!this.__isFlipPattern;alert(this.__isFlipPattern?"已开启左右翻页模式":"已开启上下滚动模式")}};f.__onGoBackNodeClick=function(){location.href="/source/"+this.__id};f.__onTitleNodeClick=function(){if(!this.__catalog)this.__catalog=l._$$Catalog._$allocate({parent:document.body});this.__catalog._$render({bookId:this.__id,bookProgressSectionId:this.sectionId})};f.__onFavNodeClick=function(){this.__comicCache._$favorite(this.__id)};f.__refreshUi=function(t){for(var e=["noBackBtn","noDownload","noFavorBtn"],n=0;n<e.length;n++)if(t[e[n]])i._$addClassName(this.__body,e[n])};f.__refreshFavorite=function(t){if(t)this.__favNode.style.display="none"};f.__onDownloadNodeClick=function(t){h.pageRedirect({path:"reader",query:{id:this.__id,sectionId:this.sectionId}})};f._$updateProgress=function(t){var e=t.current/t.total;this.__slider._$setPosition({x:"landscape"==this.__orientation?e:0,y:"landscape"==this.__orientation?0:e})};f._$hide1=function(){this._$hide();i._$style(this.__sliderNode,{display:"none"});this.__visible=!1};f._$show=function(t){this._$appendTo(this.__parent);if(t){i._$style(this.__sliderNode,{display:"block"});if(!this.__slider||this.__sliderOrientation!==this.__orientation)this.__setupSlider()}this.__visible=!0};f._$showAndUpdateProgress=function(t){if(!this.__opts.noFavorBtn)this.__refreshFavorite(this.__comicCache.__getDataInCache(this.__id).subscribed);else i._$addClassName(this.__body,"noFavorBtn");this.sectionId=t.sectionId;this.__titleNode.textContent=t.title;this._$show(t.total);if(t.total){this.__slider._$setRealValue(parseInt(t.total,10));this._$updateProgress(t)}this.__data=t};f._$toggle=function(){if(this.__visible)this._$hide1();else this._$show()};f._$isVisible=function(){return this.__visible};return u},31,36,2,172,37,156,12,173,174,1,175,85,77);I$(181,'<div class="f-tac prompt-section">     <i class="f-ib sprite-reader-deer-ending"></i>     <div class="f-tac download-plugin">         <div class="download-tip" style="line-height: 2;font-size: 10px;">下面没有啦~作者拼命赶稿中</div>         <div class="f-ib dl-btn-area f-pr">             <i class="f-ib pop-star pop-star1 sprite-reader-star1"></i>             <i class="f-ib pop-star pop-star2 sprite-reader-star2"></i>             <i class="f-ib pop-star pop-star3 sprite-reader-star3"></i>             <a class="js-download" href="/download?direct=1" data-log="app_download,download_app_pic_end,h5">                 <span class="f-ib reader-download--danger j-flag">下载APP追更啦！</span>             </a>         </div>     </div> </div> ');I$(155,function(t,e,i,n,s,o,a,r){r._$$NoMoreBlock=t._$klass();var _=r._$$NoMoreBlock._$extend(e._$$Abstract);_.__initXGui=function(){var t=o._$addNodeTemplate(a);return function(){this.__seed_html=t}}();_.__reset=function(t){this.__super(t);this.isLock=t.isLock;this.__getNode();this.__isReadOnly=t.isReadOnly;this._$hide1();if(window.PG_CONFIG.isSogou)i._$getByClassName(this.__body,"js-download")[0].href+="&mid=2016061410";if(t.noDownload)i._$getByClassName(this.__body,"js-download")[0].style.display="none"};_.__getNode=function(){var t=i._$getByClassName(this.__body,"j-flag"),e=0;this.downloadBtnNode=t[e++]};_.__addEvent=function(){};_._$dialogShow=function(t){if(!this.isLock)if(!this.__isReadOnly)this._$show();else this._$show()};_._$show=function(){this._$appendTo(this.__parent);this.__visible=!0};_._$hide1=function(){this._$hide();this.__visible=!1};_._$isVisible=function(){return this.__visible};_.__destroy=function(){this.__super()};return r},31,36,2,5,32,37,181);I$(157,function(t){function e(t){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function i(){var t=e("S_INFO");t=t&&t.split("|");var i=e("P_INFO");i=i&&i.split("|");return t&&i&&"2"!=i[2]}var n=document.getElementById("j-iframeReserve");window.__newsapp_userinfo_done=function(t){if(t)if(!i())n.src="login://"};window.__newsapp_login_done=function(t){};return{setup:function(){if(/NewsApp/gi.test(navigator.userAgent))n.src="userinfo://"}}});I$(122,function(t,e,i,n,s,o,a,r,_){s._$$LazyLoader=t._$klass();_=s._$$LazyLoader._$extend(n._$$LazyLoading);_.__reset=function(t){this.__super(t)};_.__getResourceList=function(t){return t.getElementsByClassName("j-comic-item-lazy")};_.__doCheckResource=function(t,e){var n=e.clientHeight,s=i._$offset(t,e).y-e.scrollTop,o=s+t.offsetHeight,a=t.getElementsByClassName("j-img")[0],r=t.getElementsByClassName("j-holder")[0];if(!a||!r)return 0;var _=!a.src||"none"!=r.style.display;if(_&&-700<=o&&s<=n+1e3)return 1;if(!_&&(o<-700||s>n+1e3))return-1;else return 0};_.__doRemoveResource=function(t){var e=t.getElementsByClassName("j-img")[0],i=t.getElementsByClassName("j-holder")[0];if(e&&i){if(e.src)e.attributes.removeNamedItem("src");e.style.display="none";i.style.display="table"}};_.__doAppendResource=function(t,e){var n=t.getElementsByClassName("j-img")[0],s=t.getElementsByClassName("j-holder")[0];if(n&&s){n.src=i._$attr(n,"data-src");n.onload=function(){n.style.display="block";s.style.display="none"}}}},31,24,2,34);I$(182,'<div class="m-reader-related">     <div class="title-block">         <span class="f-ib"></span>鹿娘猜你喜欢         <a href="javascript:void(0);" data-action="refresh" class="j-flag f-fr"  data-log="reader,guess_change,${sourceBookId}"><img src="/images/reader/icon-refresh@3x.png" srcset="/images/reader/icon-refresh@3x.png 3x"/>换一换</a>     </div>     <div class="j-flag slider-block f-cb">         <div class="on-loading"><img src="/images/reader/loading.gif"></div>     </div> </div> <textarea name="jst" id="j-seed-related" style="display: none;">     <div class="related-block f-fl">         <div class="f-cb" style="margin-right: -10px;margin-left: -10px;">             {list books as bookItem}             {if bookItem_index == 0}             <div class="f-cb">{/if}                 <a class="related-item-block f-fl" href="/source/${bookItem.bookId|default:\'\'|escape}?source=reader_ending_guess&scene=detail" data-log="reader,guess_click,${bookItem.bookId|default:\'\'|escape}">                         <div class="m-reader-related-item">                             <div class="img-block">                                 <img style=\'background-image: url("${bookItem.cover|default:\'\'|escape}");\'>                             </div>                             <p class="title">${bookItem.title|default:\'\'|escape}</p>                              <p class="desc">${bookItem.shortIntro|default:\'\'|escape}</p>                         </div>                 </a>                 {if ((bookItem_index+1)%3==0)||(bookItem_index==books.length-1) }             </div>             {if !(bookItem_index==books.length-1) }             <div class="f-cb">                 {/if}                  {/if}                 {/list}             </div>         </div> </textarea>');I$(183,function(t,e,i,n,s){s._$$CacheListRelated=t._$klass();var o=s._$$CacheListRelated._$extend(n._$$CacheListAbstract);o.__init=function(t){this.__kCache={};this.__super(t)};o._$getRelatedList=function(t){var e=t.key,n=(t.data,t.offset,
t.limit,t.rkey,t.onload);if(!this.__kCache[e]){var s="/reader/recommend/"+t.bookId+"?count="+t.count;i._$request(s,{type:"json",method:"GET",onload:function(t){var i=t.books;this.__kCache[e]=i;n(i)}._$bind(this),onerror:function(t){}})}else{var o=this.__kCache[e];n(o)}}},31,3,14,79);I$(158,function(t,e,i,n,s,o,a,r,_,c,l){l._$$Related=t._$klass();var d=l._$$Related._$extend(e._$$Abstract);d.__initXGui=function(){var t=o._$addNodeTemplate(r);return function(){this.__seed_html=t}}();d.__reset=function(t){this.__super(t);this.__isReadOnly=t.isReadOnly;this.isLock=t.isLock;if(!this.__isReadOnly&&!this.isLock){this.__nodeIndex={pre:null,next:null};this.__bookId=t.bookId;this.__getDataTime=0;this.__relatedCacheObj=_._$$CacheListRelated._$allocate();this.__getNode();var e=i._$attr(this.__btnRefresh,"data-log").replace("${sourceBookId}",this.__bookId);i._$attr(this.__btnRefresh,"data-log",e);this.__addEvent()}else this._$hide()};d.__getNode=function(){var t=i._$getByClassName(this.__body,"j-flag");this.__btnRefresh=t[0];this.__sliderBlock=t[1];this.__btnRefreshIcon=this.__btnRefresh.getElementsByTagName("IMG")[0];this.__relatedRefresh()};d.__addEvent=function(){this.__doInitDomEvent([[this.__btnRefresh,"click",this.__onAction._$bind(this)]])};d.__onAction=function(t){var e=n._$getElement(t,"d:action");if(e)switch(i._$dataset(e,"action")){case"refresh":this.__relatedRefresh();this.__startBtnRefreshAnimate()}};d.__relatedRefresh=function(){if(!this.__animating){this.__animating=!0;var t=this;a._$add("j-seed-related");this.__relatedCacheObj._$getRelatedList({key:"related_"+this.__getDataTime%3,bookId:this.__bookId,count:9,onload:function(e){var n=a._$get("j-seed-related",{books:e}),s=i._$html2node(n);if(!t.__nodeIndex.pre){t.__nodeIndex.pre=s;t.__sliderBlock.innerHTML="";t.__sliderBlock.appendChild(t.__nodeIndex.pre);t.__animating=!1}else{t.__sliderBlock.style.width="200%";t.__nodeIndex.next=s;t.__nodeIndex.next.style.width="50%";t.__nodeIndex.pre.style.width="50%";t.__sliderBlock.appendChild(t.__nodeIndex.next);var o=t.__sliderBlock.clientWidth;this.__animation=c._$$AnimLinear._$allocate({from:{offset:0},to:{offset:-o/2},duration:500,onupdate:function(e){t.__sliderBlock.style.left=e.offset+"px"},onstop:function(){t.__stopBtnRefreshAnimate();i._$remove(t.__nodeIndex.pre,!1);t.__sliderBlock.style.width="100%";t.__sliderBlock.style.left="0";t.__animation=null;t.__nodeIndex.next.style.width="100%";t.__nodeIndex.pre=t.__nodeIndex.next;t.__animating=!1;this._$recycle()}});this.__animation._$play()}}});this.__getDataTime++}};d.__startBtnRefreshAnimate=function(){i._$addClassName(this.__btnRefreshIcon," icon-related-refresh-animation")};d.__stopBtnRefreshAnimate=function(){i._$delClassName(this.__btnRefreshIcon," icon-related-refresh-animation")};d.__destroy=function(){this.__super()};return l},31,36,2,5,32,37,40,182,183,169);I$(184,'<div class="m-download-b">     <div class="download-inner">         <img class="left-icon" src="/images/share/tempt.gif" alt="撩妹"/>         <div class="dl-action">             <img src="/images/share/dl-tip.png" alt="下载网易漫画APP"/>             <a class="js-open-download-btn" href="javascript:void(0);" ><img src="/images/share/downloadapp.png"></a>         </div>     </div> </div>');I$(159,function(t,e,i,n,s,o,a,r,_,c,l,d,h){d._$$DownloadLayerLarge=t._$klass();h=d._$$DownloadLayerLarge._$extend(s._$$Abstract);h.__initXGui=function(){this.__seed_html=a._$addNodeTemplate(o)};h.__init=function(t){this.__super(t)};h.__reset=function(t){this.__super(t);this.__appSchemaParas=t.appSchemaParas;this.__pageName=t.pageName;var e=n._$getByClassName(this.__body,"js-open-download-btn")[0];this.__doInitDomEvent([[e,"click",this.__openApp._$bind(this)]]);var i=_.parseQuery(),s="1"==i.isappinstalled;e.innerHTML=s?"<img src='/images/share/openapp.png'>":"<img src='/images/share/downloadapp.png'>";this.__openAppNode=e};h.__openApp=function(t){e._$stop(t);n._$dataset(this.__openAppNode,"appurl",this.__appUrl);r._$capture("app_download,download_app_float,"+this.__pageName);l.pageRedirect(this.__appSchemaParas)};h.__destroy=function(){this.__super()};return d},31,5,3,2,36,184,37,1,13,12,77);I$(161,function(t,e,i,n,s,o,a,r,_,c,l,d,h,u,f,p,g,m,v){v._$$PageReader=t._$klass();var y=v._$$PageReader._$extend(e._$$EventTarget);y.__reset=function(t){d.setup();if(window.PG_CONFIG.isBaiduBrowser){m._$initShare({comicId:window.PG_CONFIG.bookId,name:window.PG_CONFIG.bookTitle,chapter:-1,chapterName:"",chapterId:"",chapterShowId:"",imageUrl:window.shareData.img_url,isFinish:window.PG_CONFIG.isFinish});m._$close()}var e=n._$get("j-reader-wrap"),i=n._$get("j-reader-inner"),f=n._$getByClassName(document.body,"j-block-flag"),v=f[0],y=f[1],b=f[2],x=window.innerWidth,w=window.innerHeight,k=1500,I=c._$$Toast._$allocate({parent:document.body}),C=!1,E=window.readerData.bookId,S=window.readerData.sectionId,T=window.readerData.page,L="true"==window.readerData.isSubscribe?!0:!1,A="true"==window.readerData.isLogin?!0:!1,N="true"==window.readerData.readOnly?!0:!1,P=window.readerData.lock,j=window.readerData.statPageDuration,D={bookId:E,sectionId:S,page:T},R={sectionId:S,page:T},O={bookId:D.bookId,sectionId:D.sectionId,isReadOnly:N,isSogou:window.PG_CONFIG.isSogou,parent:document.body,data:{subscribed:L},onProgressChange:function(t){X._$setPage(t.value)},noDownload:!window.PG_CONFIG.hasToolbarDownload};if(N)p._$merge(O,{noBackBtn:!0,noDownload:!0,noFavorBtn:!0});else if(window.PG_CONFIG.isSogou)p._$merge(O,{noBackBtn:!0});var B=r._$$ReaderToolbar._$allocate(O),M=h._$$LazyLoader._$allocate({parent:e}),F=_._$$NoMoreBlock._$allocate({parent:y,isReadOnly:N||window.PG_CONFIG.isSogou,isLock:(P>0?!0:!1)||window.PG_CONFIG.isBaiduBrowser,noDownload:!window.PG_CONFIG.hasTheLastDownload}),z=l._$$CacheComic._$allocate({ondataload:function(t){if("favorite"==t.type){var e=this.__getDataInCache(t.key);if(e.subscribed)I._$toastShow({tipContent:"已加入我的收藏 ( ^ω^ )",delay:k});else I._$toastShow({tipContent:"出错啦~",delay:k})}}});z.__setDataInCache(D.bookId,{subscribed:L});var U,q,H,G=function(){$(".j-loading-more-top").remove();$(' <div class="j-loading-more-top m-loading-more"><img src="/images/reader/loading.gif"><span>正在加载上一话</span></div>').insertBefore($(v))},W=function(){$(".j-loading-more-bottom").remove();$(' <div class="j-loading-more-bottom m-loading-more"><img src="/images/reader/loading.gif"><span>正在加载下一话</span></div>').insertAfter($(v))},V=function(t){switch(t){case 0:M._$refresh();$(".j-loading-more-top").text("下拉加载上一话");break;case 1:$(".j-loading-more-top").text("加载失败,请检查网络,下拉加载");break;case 2:$(".j-loading-more-top").remove();if(!window.PG_CONFIG.isBaiduBrowser)I._$toastShow({tipContent:"前面没有了呢~",delay:k});break;case 3:$(".j-loading-more-top").remove()}},J=function(t){switch(t){case 0:$(".j-loading-more-bottom").text("上拉加载下一话");M._$refresh();var i=e.offsetHeight;if(v.offsetHeight<i)X._$loadSection(!1);break;case 1:$(".j-loading-more-bottom").text("加载失败,请检查网络,上拉加载");break;case 2:C=!0;$(".j-loading-more-bottom").remove();if(!F._$isVisible()){var n=z.__getDataInCache(D.bookId);if(n.subscribed)F._$dialogShow({});else F._$dialogShow({})}if(!U&&!window.PG_CONFIG.isBaiduBrowser)U=u._$$Related._$allocate({parent:b,bookId:D.bookId,isReadOnly:N,isLock:P>0?!0:!1})}},X=a._$$SlideController._$allocate({_initSectionInfo:D,_currentPageInfo:R,readerWrap:e,readerInner:i,comicPicList:v,_beforeBottomLoad:W,_afterBottomLoad:J,_beforeTopLoad:G,_afterTopLoad:V,topOffset:40,_$bottomOffset:1*w/3,_sectionToast:I,isLogin:A,statPageDuration:j,_readerToolbar:B,downloadBetweenInSection:!window.PG_CONFIG.isBaiduBrowser,downloadTipUseLink:!window.PG_CONFIG.isSogou,readerLazyLoader:M,lock:P}),Q=o._$$PointHotRegion._$allocate({_leftX:.33*x,_leftY:.25*w,_rightX:.66*x,_rightY:.75*w}),Y=function(t){var e=X._$getPageInfo();B._$showAndUpdateProgress({title:e.title,current:e.current,sectionId:e.sectionId,total:e.total})},K=function(t){if(!window.PG_CONFIG.isBaiduBrowser)if(!B._$isVisible()){var e=t.clientX,i=t.clientY;if(!(P<0&&Q._$ifInsideRegion(e,i)));else Y()}else B._$hide1()},Z=function(t){var i=R.page,n=R.sectionId,s=setInterval(function(){if(e.clientWidth!=x){x=window.innerWidth;w=window.innerHeight;clearInterval(s);Q=o._$$PointHotRegion._$allocate({_leftX:.33*x,_leftY:.25*w,_rightX:.66*x,_rightY:.75*w});for(var t=v.getElementsByClassName("page-item"),a=0;a<t.length;a++){var r=t[a].getAttribute("data-width"),_=t[a].getAttribute("data-height");if(r)if(r&&_)if(r>e.clientWidth)t[a].style.height=parseInt(parseInt(_)*e.clientWidth/parseInt(r))+5+"px";else t[a].style.height=parseInt(_)+5+"px"}X._$setPage(i,n)}},20)},tt=g.android();s._$addEvent(i,"click",K);s._$addEvent(i,"touchstart",function(t){q=t.touches?t.touches[0].pageX:t.offsetX;H=t.touches?t.touches[0].pageY:t.offsetY});s._$addEvent(i,"touchmove",function(t){if(B._$isVisible())B._$hide1();var n=t.changedTouches?t.changedTouches[0].pageY:t.offsetY,s=n-H;if(s>0){if(e.scrollTop<=40)X._$loadSection(!0)}else if(s<0){var o=i.offsetHeight-e.offsetHeight-e.scrollTop;if(o<=40)X._$loadSection(!1);if(P>0&&0==o&&C&&tt){i.style.webkitTransform="translate(0px, "+s/4+"px)";i.style.transform="translate(0px, "+s/4+"px)"}}});s._$addEvent(i,"touchend",function(t){if(P>0&&C&&tt){i.style.webkitTransform="translate(0px, 0px)";i.style.transform="translate(0px, 0px)";i.style.transition="transform 0.5s ease-out";i.style.webkitTransition="-webkit-transition 0.5s ease-out"}});s._$addEvent(window,"onorientationchange"in window?"orientationchange":"resize",Z)};v._$$PageReader._$allocate({})},31,32,151,2,5,152,153,154,155,17,156,157,122,158,159,3,12,160);